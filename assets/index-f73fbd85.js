var jn=Object.defineProperty;var Bn=(t,e,n)=>e in t?jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ee=(t,e,n)=>(Bn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function j(){}const ge=t=>t;function oe(t,e){for(const n in e)t[n]=e[n];return t}function Jt(t){return t()}function _t(){return Object.create(null)}function ie(t){t.forEach(Jt)}function Pe(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function qn(t){return Object.keys(t).length===0}function ut(t,...e){if(t==null)return j;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function be(t){let e;return ut(t,n=>e=n)(),e}function H(t,e,n){t.$$.on_destroy.push(ut(e,n))}function Me(t,e,n,s){if(t){const o=Qt(t,e,n,s);return t[0](o)}}function Qt(t,e,n,s){return t[1]&&s?oe(n.ctx.slice(),t[1](s(e))):n.ctx}function Ne(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],u=Math.max(e.dirty.length,o.length);for(let r=0;r<u;r+=1)l[r]=e.dirty[r]|o[r];return l}return e.dirty|o}return e.dirty}function Te(t,e,n,s,o,l){if(o){const u=Qt(e,n,s,l);t.p(u,o)}}function Le(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}function pt(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function gt(t,e){const n={};e=new Set(e);for(const s in t)!e.has(s)&&s[0]!=="$"&&(n[s]=t[s]);return n}function zn(t){return t&&Pe(t.destroy)?t.destroy:j}function bt(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Wn=["",!0,1,"true","contenteditable"],Xt=typeof window<"u";let Hn=Xt?()=>window.performance.now():()=>Date.now(),ct=Xt?t=>requestAnimationFrame(t):j;const _e=new Set;function Zt(t){_e.forEach(e=>{e.c(t)||(_e.delete(e),e.f())}),_e.size!==0&&ct(Zt)}function Gn(t){let e;return _e.size===0&&ct(Zt),{promise:new Promise(n=>{_e.add(e={c:t,f:n})}),abort(){_e.delete(e)}}}function U(t,e){t.appendChild(e)}function xt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Kn(t){const e=O("style");return Yn(xt(t),e),e.sheet}function Yn(t,e){return U(t.head||t,e),e.sheet}function v(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function ft(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function L(){return z(" ")}function ue(){return z("")}function $e(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function I(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Vn=["width","height"];function Be(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)e[s]==null?t.removeAttribute(s):s==="style"?t.style.cssText=e[s]:s==="__value"?t.value=t[s]=e[s]:n[s]&&n[s].set&&Vn.indexOf(s)===-1?t[s]=e[s]:I(t,s,e[s])}function Jn(t){return Array.from(t.childNodes)}function Ye(t,e){e=""+e,t.data!==e&&(t.data=e)}function Qn(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Xn(t,e,n){~Wn.indexOf(n)?Qn(t,e):Ye(t,e)}function Ae(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function q(t,e,n){t.classList[n?"add":"remove"](e)}function en(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,s,e),o}function yt(t,e){return new t(e)}const qe=new Map;let ze=0;function Zn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function xn(t,e){const n={stylesheet:Kn(e),rules:{}};return qe.set(t,n),n}function vt(t,e,n,s,o,l,u,r=0){const i=16.666/s;let c=`{
`;for(let p=0;p<=1;p+=i){const S=e+(n-e)*l(p);c+=p*100+`%{${u(S,1-S)}}
`}const a=c+`100% {${u(n,1-n)}}
}`,f=`__svelte_${Zn(a)}_${r}`,d=xt(t),{stylesheet:h,rules:b}=qe.get(d)||xn(d,t);b[f]||(b[f]=!0,h.insertRule(`@keyframes ${f} ${a}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${s}ms linear ${o}ms 1 both`,ze+=1,f}function es(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),o=n.length-s.length;o&&(t.style.animation=s.join(", "),ze-=o,ze||ts())}function ts(){ct(()=>{ze||(qe.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&g(e)}),qe.clear())})}let Oe;function Ce(t){Oe=t}function Ue(){if(!Oe)throw new Error("Function called outside component initialization");return Oe}function tn(t){Ue().$$.on_mount.push(t)}function ns(t){Ue().$$.on_destroy.push(t)}function nn(){const t=Ue();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=en(e,n,{cancelable:s});return o.slice().forEach(u=>{u.call(t,l)}),!l.defaultPrevented}return!0}}function Re(t,e){return Ue().$$.context.set(t,e),e}function le(t){return Ue().$$.context.get(t)}function sn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const me=[],$t=[];let pe=[];const wt=[],on=Promise.resolve();let lt=!1;function ln(){lt||(lt=!0,on.then(rn))}function ss(){return ln(),on}function ce(t){pe.push(t)}const Ze=new Set;let de=0;function rn(){if(de!==0)return;const t=Oe;do{try{for(;de<me.length;){const e=me[de];de++,Ce(e),os(e.$$)}}catch(e){throw me.length=0,de=0,e}for(Ce(null),me.length=0,de=0;$t.length;)$t.pop()();for(let e=0;e<pe.length;e+=1){const n=pe[e];Ze.has(n)||(Ze.add(n),n())}pe.length=0}while(me.length);for(;wt.length;)wt.pop()();lt=!1,Ze.clear(),Ce(t)}function os(t){if(t.fragment!==null){t.update(),ie(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}function ls(t){const e=[],n=[];pe.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),pe=e}let Se;function rs(){return Se||(Se=Promise.resolve(),Se.then(()=>{Se=null})),Se}function xe(t,e,n){t.dispatchEvent(en(`${e?"intro":"outro"}${n}`))}const je=new Set;let x;function K(){x={r:0,c:[],p:x}}function Y(){x.r||ie(x.c),x=x.p}function _(t,e){t&&t.i&&(je.delete(t),t.i(e))}function $(t,e,n,s){if(t&&t.o){if(je.has(t))return;je.add(t),x.c.push(()=>{je.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const is={duration:0};function ye(t,e,n,s){const o={direction:"both"};let l=e(t,n,o),u=s?0:1,r=null,i=null,c=null;function a(){c&&es(t,c)}function f(h,b){const m=h.b-u;return b*=Math.abs(m),{a:u,b:h.b,d:m,duration:b,start:h.start,end:h.start+b,group:h.group}}function d(h){const{delay:b=0,duration:m=300,easing:p=ge,tick:S=j,css:w}=l||is,E={start:Hn()+b,b:h};h||(E.group=x,x.r+=1),r||i?i=E:(w&&(a(),c=vt(t,u,h,m,b,p,w)),h&&S(0,1),r=f(E,m),ce(()=>xe(t,h,"start")),Gn(y=>{if(i&&y>i.start&&(r=f(i,m),i=null,xe(t,r.b,"start"),w&&(a(),c=vt(t,u,r.b,r.duration,0,p,l.css))),r){if(y>=r.end)S(u=r.b,1-u),xe(t,r.b,"end"),i||(r.b?a():--r.group.r||ie(r.group.c)),r=null;else if(y>=r.start){const C=y-r.start;u=r.a+r.d*p(C/r.duration),S(u,1-u)}}return!!(r||i)}))}return{run(h){Pe(l)?rs().then(()=>{l=l(o),d(h)}):d(h)},end(){a(),r=i=null}}}function us(t,e){$(t,1,1,()=>{e.delete(t.key)})}function cs(t,e,n,s,o,l,u,r,i,c,a,f){let d=t.length,h=l.length,b=d;const m={};for(;b--;)m[t[b].key]=b;const p=[],S=new Map,w=new Map,E=[];for(b=h;b--;){const R=f(o,l,b),F=n(R);let D=u.get(F);D?s&&E.push(()=>D.p(R,e)):(D=c(F,R),D.c()),S.set(F,p[b]=D),F in m&&w.set(F,Math.abs(b-m[F]))}const y=new Set,C=new Set;function N(R){_(R,1),R.m(r,a),u.set(R.key,R),a=R.first,h--}for(;d&&h;){const R=p[h-1],F=t[d-1],D=R.key,B=F.key;R===F?(a=R.first,d--,h--):S.has(B)?!u.has(D)||y.has(D)?N(R):C.has(B)?d--:w.get(D)>w.get(B)?(C.add(D),N(R)):(y.add(B),d--):(i(F,u),d--)}for(;d--;){const R=t[d];S.has(R.key)||i(R,u)}for(;h;)N(p[h-1]);return ie(E),p}function fs(t,e){const n={},s={},o={$$scope:1};let l=t.length;for(;l--;){const u=t[l],r=e[l];if(r){for(const i in u)i in r||(s[i]=1);for(const i in r)o[i]||(n[i]=r[i],o[i]=1);t[l]=r}else for(const i in u)o[i]=1}for(const u in s)u in n||(n[u]=void 0);return n}function kt(t){return typeof t=="object"&&t!==null?t:{}}function T(t){t&&t.c()}function P(t,e,n,s){const{fragment:o,after_update:l}=t.$$;o&&o.m(e,n),s||ce(()=>{const u=t.$$.on_mount.map(Jt).filter(Pe);t.$$.on_destroy?t.$$.on_destroy.push(...u):ie(u),t.$$.on_mount=[]}),l.forEach(ce)}function M(t,e){const n=t.$$;n.fragment!==null&&(ls(n.after_update),ie(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function as(t,e){t.$$.dirty[0]===-1&&(me.push(t),ln(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,s,o,l,u,r=[-1]){const i=Oe;Ce(t);const c=t.$$={fragment:null,ctx:[],props:l,update:j,not_equal:o,bound:_t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:_t(),dirty:r,skip_bound:!1,root:e.target||i.$$.root};u&&u(c.root);let a=!1;if(c.ctx=n?n(t,e.props||{},(f,d,...h)=>{const b=h.length?h[0]:d;return c.ctx&&o(c.ctx[f],c.ctx[f]=b)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](b),a&&as(t,f)),d}):[],c.update(),a=!0,ie(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const f=Jn(e.target);c.fragment&&c.fragment.l(f),f.forEach(g)}else c.fragment&&c.fragment.c();e.intro&&_(t.$$.fragment),P(t,e.target,e.anchor,e.customElement),rn()}Ce(i)}class J{$destroy(){M(this,1),this.$destroy=j}$on(e,n){if(!Pe(n))return j;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(e){this.$$set&&!qn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Et=t=>typeof t>"u",ds=t=>typeof t=="function",un=t=>typeof t=="number";function hs(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cn(){let t=0;return()=>t++}function ms(){return Math.random().toString(36).substring(2)}const re=typeof window>"u";function at(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const fn=(t,e)=>t?{}:{style:e},rt=t=>({"aria-hidden":"true",...fn(t,"display:none;")}),he=[];function _s(t,e){return{subscribe:G(t,e).subscribe}}function G(t,e=j){let n;const s=new Set;function o(r){if(W(t,r)&&(t=r,n)){const i=!he.length;for(const c of s)c[1](),he.push(c,t);if(i){for(let c=0;c<he.length;c+=2)he[c][0](he[c+1]);he.length=0}}}function l(r){o(r(t))}function u(r,i=j){const c=[r,i];return s.add(c),s.size===1&&(n=e(o)||j),r(t),()=>{s.delete(c),s.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:u}}function ps(t,e,n){const s=!Array.isArray(t),o=s?[t]:t,l=e.length<2;return _s(n,u=>{let r=!1;const i=[];let c=0,a=j;const f=()=>{if(c)return;a();const h=e(s?i[0]:i,u);l?u(h):a=Pe(h)?h:j},d=o.map((h,b)=>ut(h,m=>{i[b]=m,c&=~(1<<b),r&&f()},()=>{c|=1<<b}));return r=!0,f(),function(){ie(d),a(),r=!1}})}const Fe=t=>`@@svnav-ctx__${t}`,it=Fe("LOCATION"),ve=Fe("ROUTER"),an=Fe("ROUTE"),gs=Fe("ROUTE_PARAMS"),bs=Fe("FOCUS_ELEM"),dn=/^:(.+)/,Ie=(t,e,n)=>t.substr(e,n),St=(t,e)=>Ie(t,0,e.length)===e,ys=t=>t==="",vs=t=>dn.test(t),hn=t=>t[0]==="*",$s=t=>t.replace(/\*.*$/,""),mn=t=>t.replace(/(^\/+|\/+$)/g,"");function X(t,e=!1){const n=mn(t).split("/");return e?n.filter(Boolean):n}const et=(t,e)=>t+(e?`?${e}`:""),dt=t=>`/${mn(t)}`;function De(...t){const e=s=>X(s,!0).join("/"),n=t.map(e).join("/");return dt(n)}const _n=1,Ve=2,fe=3,ws=4,pn=5,ks=6,gn=7,Es=8,Ss=9,bn=10,yn=11,Is={[_n]:"Link",[Ve]:"Route",[fe]:"Router",[ws]:"useFocus",[pn]:"useLocation",[ks]:"useMatch",[gn]:"useNavigate",[Es]:"useParams",[Ss]:"useResolvable",[bn]:"useResolve",[yn]:"navigate"},ht=t=>Is[t];function Cs(t,e){let n;return t===Ve?n=e.path?`path="${e.path}"`:"default":t===_n?n=`to="${e.to}"`:t===fe&&(n=`basepath="${e.basepath||""}"`),`<${ht(t)} ${n||""} />`}function Rs(t,e,n,s){const o=n&&Cs(s||t,n),l=o?`

Occurred in: ${o}`:"",u=ht(t),r=ds(e)?e(u):e;return`<${u}> ${r}${l}`}const vn=t=>(...e)=>t(Rs(...e)),$n=vn(t=>{throw new Error(t)}),We=vn(console.warn),It=4,As=3,Os=2,Ps=1,Ms=1;function Ns(t,e){const n=t.default?0:X(t.fullPath).reduce((s,o)=>{let l=s;return l+=It,ys(o)?l+=Ms:vs(o)?l+=Os:hn(o)?l-=It+Ps:l+=As,l},0);return{route:t,score:n,index:e}}function Ts(t){return t.map(Ns).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index)}function wn(t,e){let n,s;const[o]=e.split("?"),l=X(o),u=l[0]==="",r=Ts(t);for(let i=0,c=r.length;i<c;i++){const{route:a}=r[i];let f=!1;const d={},h=S=>({...a,params:d,uri:S});if(a.default){s=h(e);continue}const b=X(a.fullPath),m=Math.max(l.length,b.length);let p=0;for(;p<m;p++){const S=b[p],w=l[p];if(!Et(S)&&hn(S)){const y=S==="*"?"*":S.slice(1);d[y]=l.slice(p).map(decodeURIComponent).join("/");break}if(Et(w)){f=!0;break}const E=dn.exec(S);if(E&&!u){const y=decodeURIComponent(w);d[E[1]]=y}else if(S!==w){f=!0;break}}if(!f){n=h(De(...l.slice(0,p)));break}}return n||s||null}function kn(t,e){return wn([t],e)}function Ls(t,e){if(St(t,"/"))return t;const[n,s]=t.split("?"),[o]=e.split("?"),l=X(n),u=X(o);if(l[0]==="")return et(o,s);if(!St(l[0],".")){const c=u.concat(l).join("/");return et((o==="/"?"":"/")+c,s)}const r=u.concat(l),i=[];return r.forEach(c=>{c===".."?i.pop():c!=="."&&i.push(c)}),et(`/${i.join("/")}`,s)}function Ct(t,e){const{pathname:n,hash:s="",search:o="",state:l}=t,u=X(e,!0),r=X(n,!0);for(;u.length;)u[0]!==r[0]&&$n(fe,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),u.shift(),r.shift();return{pathname:De(...r),hash:s,search:o,state:l}}const Rt=t=>t.length===1?"":t,En=t=>{const e=t.indexOf("?"),n=t.indexOf("#"),s=e!==-1,o=n!==-1,l=o?Rt(Ie(t,n)):"",u=o?Ie(t,0,n):t,r=s?Rt(Ie(u,e)):"";return{pathname:(s?Ie(u,0,e):u)||"/",search:r,hash:l}};function Us(t,e,n){return De(n,Ls(t,e))}function Fs(t,e){const n=dt($s(t)),s=X(n,!0),o=X(e,!0).slice(0,s.length),l=kn({fullPath:n},De(...o));return l&&l.uri}const tt="POP",Ds="PUSH",js="REPLACE";function nt(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function Bs(t){let e=[],n=nt(t),s=tt;const o=(l=e)=>l.forEach(u=>u({location:n,action:s}));return{get location(){return n},listen(l){e.push(l);const u=()=>{n=nt(t),s=tt,o([l])};o([l]);const r=at(t,"popstate",u);return()=>{r(),e=e.filter(i=>i!==l)}},navigate(l,u){const{state:r={},replace:i=!1}=u||{};if(s=i?js:Ds,un(l))u&&We(yn,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),s=tt,t.history.go(l);else{const c={...r,_key:ms()};try{t.history[i?"replaceState":"pushState"](c,"",l)}catch{t.location[i?"replace":"assign"](l)}}n=nt(t),o()}}}function st(t,e){return{...En(e),state:t}}function qs(t="/"){let e=0,n=[st(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(s,o,l){e++,n=n.slice(0,e),n.push(st(s,l))},replaceState(s,o,l){n[e]=st(s,l)},go(s){const o=e+s;o<0||o>n.length-1||(e=o)}}}}const zs=!!(!re&&window.document&&window.document.createElement),Ws=!re&&window.location.origin==="null",Sn=Bs(zs&&!Ws?window:qs()),{navigate:Hs}=Sn;let Z=null,In=!0;function Gs(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let s=0;s<n.length;s++){const o=n[s],l=Number(o.dataset.svnavRouter);if(l===t)return!0;if(l===e)return!1}return!1}function Ks(t){(!Z||t.level>Z.level||t.level===Z.level&&Gs(t.routerId,Z.routerId))&&(Z=t)}function Ys(){Z=null}function Vs(){In=!1}function At(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let n;n=at(t,"blur",()=>{t.removeAttribute(e),n()})}return t.focus(),document.activeElement===t}catch{return!1}}function Js(t,e){return Number(t.dataset.svnavRouteEnd)===e}function Qs(t){return/^H[1-6]$/i.test(t.tagName)}function Ot(t,e=document){return e.querySelector(t)}function Xs(t){let n=Ot(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!Js(n,t);){if(Qs(n))return n;const s=Ot("h1,h2,h3,h4,h5,h6",n);if(s)return s;n=n.nextElementSibling}return null}function Zs(t){Promise.resolve(be(t.focusElement)).then(e=>{const n=e||Xs(t.id);n||We(fe,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,Ve),!At(n)&&At(document.documentElement)})}const xs=(t,e,n)=>(s,o)=>ss().then(()=>{if(!Z||In){Vs();return}if(s&&Zs(Z.route),t.announcements&&o){const{path:l,fullPath:u,meta:r,params:i,uri:c}=Z.route,a=t.createAnnouncement({path:l,fullPath:u,meta:r,params:i,uri:c},be(n));Promise.resolve(a).then(f=>{e.set(f)})}Ys()}),eo="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function to(t){let e,n,s=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},fn(t[6],eo)],o={};for(let l=0;l<s.length;l+=1)o=oe(o,s[l]);return{c(){e=O("div"),n=z(t[0]),Be(e,o)},m(l,u){v(l,e,u),U(e,n)},p(l,u){u[0]&1&&Xn(n,l[0],o.contenteditable)},d(l){l&&g(e)}}}function no(t){let e,n,s,o,l,u=[rt(t[6]),{"data-svnav-router":t[3]}],r={};for(let f=0;f<u.length;f+=1)r=oe(r,u[f]);const i=t[22].default,c=Me(i,t,t[21],null);let a=t[2]&&t[4]&&t[1].announcements&&to(t);return{c(){e=O("div"),n=L(),c&&c.c(),s=L(),a&&a.c(),o=ue(),Be(e,r)},m(f,d){v(f,e,d),v(f,n,d),c&&c.m(f,d),v(f,s,d),a&&a.m(f,d),v(f,o,d),l=!0},p(f,d){c&&c.p&&(!l||d[0]&2097152)&&Te(c,i,f,f[21],l?Ne(i,f[21],d,null):Le(f[21]),null),f[2]&&f[4]&&f[1].announcements&&a.p(f,d)},i(f){l||(_(c,f),l=!0)},o(f){$(c,f),l=!1},d(f){f&&g(e),f&&g(n),c&&c.d(f),f&&g(s),a&&a.d(f),f&&g(o)}}}const so=cn(),Pt="/";function oo(t,e,n){let s,o,l,u,r,{$$slots:i={},$$scope:c}=e,{basepath:a=Pt}=e,{url:f=null}=e,{history:d=Sn}=e,{primary:h=!0}=e,{a11y:b={}}=e,{disableInlineStyles:m=!1}=e;const p={createAnnouncement:k=>`Navigated to ${k.uri}`,announcements:!0,...b},S=a,w=dt(a),E=le(it),y=le(ve),C=!E,N=so(),R=h&&!(y&&!y.manageFocus),F=G("");H(t,F,k=>n(0,r=k));const D=y?y.disableInlineStyles:m,B=G([]);H(t,B,k=>n(20,u=k));const ae=G(null);H(t,ae,k=>n(18,o=k));let A=!1;const we=C?0:y.level+1,ke=C?G((()=>Ct(re?En(f):d.location,w))()):E;H(t,ke,k=>n(17,s=k));const Xe=G(s);H(t,Xe,k=>n(19,l=k));const Un=xs(p,F,ke),mt=k=>Q=>Q.filter(ne=>ne.id!==k);function Fn(k){if(re){if(A)return;const Q=kn(k,s.pathname);if(Q)return A=!0,Q}else B.update(Q=>{const ne=mt(k.id)(Q);return ne.push(k),ne})}function Dn(k){B.update(mt(k))}return!C&&a!==Pt&&We(fe,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:a}),C&&(tn(()=>d.listen(Q=>{const ne=Ct(Q.location,w);Xe.set(s),ke.set(ne)})),Re(it,ke)),Re(ve,{activeRoute:ae,registerRoute:Fn,unregisterRoute:Dn,manageFocus:R,level:we,id:N,history:C?d:y.history,basepath:C?w:y.basepath,disableInlineStyles:D}),t.$$set=k=>{"basepath"in k&&n(11,a=k.basepath),"url"in k&&n(12,f=k.url),"history"in k&&n(13,d=k.history),"primary"in k&&n(14,h=k.primary),"a11y"in k&&n(15,b=k.a11y),"disableInlineStyles"in k&&n(16,m=k.disableInlineStyles),"$$scope"in k&&n(21,c=k.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&a!==S&&We(fe,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const k=wn(u,s.pathname);ae.set(k)}if(t.$$.dirty[0]&655360&&C){const k=!!s.hash,Q=!k&&R,ne=!k||s.pathname!==l.pathname;Un(Q,ne)}t.$$.dirty[0]&262144&&R&&o&&o.primary&&Ks({level:we,routerId:N,route:o})},[r,p,C,N,R,F,D,B,ae,ke,Xe,a,f,d,h,b,m,s,o,l,u,c,i]}class lo extends J{constructor(e){super(),V(this,e,oo,no,W,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Cn=lo;function Je(t,e,n=ve,s=fe){le(n)||$n(t,l=>`You cannot use ${l} outside of a ${ht(s)}.`,e)}const ro=t=>{const{subscribe:e}=le(t);return{subscribe:e}};function io(){return Je(pn),ro(it)}function uo(){const{history:t}=le(ve);return t}function Rn(){const t=le(an);return t?ps(t,e=>e.base):G("/")}function An(){Je(bn);const t=Rn(),{basepath:e}=le(ve);return s=>Us(s,be(t),e)}function On(){Je(gn);const t=An(),{navigate:e}=uo();return(s,o)=>{const l=un(s)?s:t(s);return e(l,o)}}const co=t=>({params:t&16,location:t&8}),Mt=t=>({params:re?be(t[10]):t[4],location:t[3],navigate:t[11]});function Nt(t){let e,n;return e=new Cn({props:{primary:t[1],$$slots:{default:[ho]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},m(s,o){P(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.primary=s[1]),o&528409&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function fo(t){let e;const n=t[18].default,s=Me(n,t,t[19],Mt);return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){s&&s.p&&(!e||l&524312)&&Te(s,n,o,o[19],e?Ne(n,o[19],l,co):Le(o[19]),Mt)},i(o){e||(_(s,o),e=!0)},o(o){$(s,o),e=!1},d(o){s&&s.d(o)}}}function ao(t){let e,n,s;const o=[{location:t[3]},{navigate:t[11]},re?be(t[10]):t[4],t[12]];var l=t[0];function u(r){let i={};for(let c=0;c<o.length;c+=1)i=oe(i,o[c]);return{props:i}}return l&&(e=yt(l,u())),{c(){e&&T(e.$$.fragment),n=ue()},m(r,i){e&&P(e,r,i),v(r,n,i),s=!0},p(r,i){const c=i&7192?fs(o,[i&8&&{location:r[3]},i&2048&&{navigate:r[11]},i&1040&&kt(re?be(r[10]):r[4]),i&4096&&kt(r[12])]):{};if(i&1&&l!==(l=r[0])){if(e){K();const a=e;$(a.$$.fragment,1,0,()=>{M(a,1)}),Y()}l?(e=yt(l,u()),T(e.$$.fragment),_(e.$$.fragment,1),P(e,n.parentNode,n)):e=null}else l&&e.$set(c)},i(r){s||(e&&_(e.$$.fragment,r),s=!0)},o(r){e&&$(e.$$.fragment,r),s=!1},d(r){r&&g(n),e&&M(e,r)}}}function ho(t){let e,n,s,o;const l=[ao,fo],u=[];function r(i,c){return i[0]!==null?0:1}return e=r(t),n=u[e]=l[e](t),{c(){n.c(),s=ue()},m(i,c){u[e].m(i,c),v(i,s,c),o=!0},p(i,c){let a=e;e=r(i),e===a?u[e].p(i,c):(K(),$(u[a],1,1,()=>{u[a]=null}),Y(),n=u[e],n?n.p(i,c):(n=u[e]=l[e](i),n.c()),_(n,1),n.m(s.parentNode,s))},i(i){o||(_(n),o=!0)},o(i){$(n),o=!1},d(i){u[e].d(i),i&&g(s)}}}function mo(t){let e,n,s,o,l,u=[rt(t[7]),{"data-svnav-route-start":t[5]}],r={};for(let f=0;f<u.length;f+=1)r=oe(r,u[f]);let i=t[2]&&Nt(t),c=[rt(t[7]),{"data-svnav-route-end":t[5]}],a={};for(let f=0;f<c.length;f+=1)a=oe(a,c[f]);return{c(){e=O("div"),n=L(),i&&i.c(),s=L(),o=O("div"),Be(e,r),Be(o,a)},m(f,d){v(f,e,d),v(f,n,d),i&&i.m(f,d),v(f,s,d),v(f,o,d),l=!0},p(f,[d]){f[2]?i?(i.p(f,d),d&4&&_(i,1)):(i=Nt(f),i.c(),_(i,1),i.m(s.parentNode,s)):i&&(K(),$(i,1,1,()=>{i=null}),Y())},i(f){l||(_(i),l=!0)},o(f){$(i),l=!1},d(f){f&&g(e),f&&g(n),i&&i.d(f),f&&g(s),f&&g(o)}}}const _o=cn();function po(t,e,n){let s;const o=["path","component","meta","primary"];let l=gt(e,o),u,r,i,c,{$$slots:a={},$$scope:f}=e,{path:d=""}=e,{component:h=null}=e,{meta:b={}}=e,{primary:m=!0}=e;Je(Ve,e);const p=_o(),{registerRoute:S,unregisterRoute:w,activeRoute:E,disableInlineStyles:y}=le(ve);H(t,E,A=>n(16,u=A));const C=Rn();H(t,C,A=>n(17,i=A));const N=io();H(t,N,A=>n(3,r=A));const R=G(null);let F;const D=G(),B=G({});H(t,B,A=>n(4,c=A)),Re(an,D),Re(gs,B),Re(bs,R);const ae=On();return re||ns(()=>w(p)),t.$$set=A=>{n(24,e=oe(oe({},e),pt(A))),n(12,l=gt(e,o)),"path"in A&&n(13,d=A.path),"component"in A&&n(0,h=A.component),"meta"in A&&n(14,b=A.meta),"primary"in A&&n(1,m=A.primary),"$$scope"in A&&n(19,f=A.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const A=d==="",we=De(i,d),Qe={id:p,path:d,meta:b,default:A,fullPath:A?"":we,base:A?i:Fs(we,r.pathname),primary:m,focusElement:R};D.set(Qe),n(15,F=S(Qe))}if(t.$$.dirty&98304&&n(2,s=!!(F||u&&u.id===p)),t.$$.dirty&98308&&s){const{params:A}=F||u;B.set(A)}},e=pt(e),[h,m,s,r,c,p,E,y,C,N,B,ae,l,d,b,F,u,i,a,f]}class go extends J{constructor(e){super(),V(this,e,po,mo,W,{path:13,component:0,meta:14,primary:1})}}const Tt=go,bo=t=>(e,n=Hs)=>({destroy:at(e,"click",l=>{const u=t(l);if(u&&u.target===""&&hs(l)){l.preventDefault();const r=u.pathname+u.search+u.hash;n(r,{replace:u.hasAttribute("replace")})}})}),yo=bo(t=>t.currentTarget);function vo(t){let e,n;const s=t[1].default,o=Me(s,t,t[0],null);return{c(){e=O("div"),o&&o.c(),I(e,"class","svelte-k0makj")},m(l,u){v(l,e,u),o&&o.m(e,null),n=!0},p(l,[u]){o&&o.p&&(!n||u&1)&&Te(o,s,l,l[0],n?Ne(s,l[0],u,null):Le(l[0]),null)},i(l){n||(_(o,l),n=!0)},o(l){$(o,l),n=!1},d(l){l&&g(e),o&&o.d(l)}}}function $o(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$$set=l=>{"$$scope"in l&&n(0,o=l.$$scope)},[o,s]}class Pn extends J{constructor(e){super(),V(this,e,$o,vo,W,{})}}function wo(t){let e,n,s,o,l=!t[2]&&Lt(t);return{c(){e=O("button"),l&&l.c(),I(e,"class","button svelte-1rmphn3"),e.disabled=t[1],q(e,"spinning",t[2])},m(u,r){v(u,e,r),l&&l.m(e,null),n=!0,s||(o=$e(e,"click",t[6]),s=!0)},p(u,r){u[2]?l&&(K(),$(l,1,1,()=>{l=null}),Y()):l?(l.p(u,r),r&4&&_(l,1)):(l=Lt(u),l.c(),_(l,1),l.m(e,null)),(!n||r&2)&&(e.disabled=u[1]),(!n||r&4)&&q(e,"spinning",u[2])},i(u){n||(_(l),n=!0)},o(u){$(l),n=!1},d(u){u&&g(e),l&&l.d(),s=!1,o()}}}function ko(t){let e,n,s,o;const l=t[5].default,u=Me(l,t,t[4],null);return{c(){e=O("a"),u&&u.c(),I(e,"class","button svelte-1rmphn3"),I(e,"href",t[3]),I(e,"role","button")},m(r,i){v(r,e,i),u&&u.m(e,null),n=!0,s||(o=zn(yo.call(null,e)),s=!0)},p(r,i){u&&u.p&&(!n||i&16)&&Te(u,l,r,r[4],n?Ne(l,r[4],i,null):Le(r[4]),null),(!n||i&8)&&I(e,"href",r[3])},i(r){n||(_(u,r),n=!0)},o(r){$(u,r),n=!1},d(r){r&&g(e),u&&u.d(r),s=!1,o()}}}function Lt(t){let e;const n=t[5].default,s=Me(n,t,t[4],null);return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){s&&s.p&&(!e||l&16)&&Te(s,n,o,o[4],e?Ne(n,o[4],l,null):Le(o[4]),null)},i(o){e||(_(s,o),e=!0)},o(o){$(s,o),e=!1},d(o){s&&s.d(o)}}}function Eo(t){let e,n,s,o;const l=[ko,wo],u=[];function r(i,c){return i[0]?0:1}return e=r(t),n=u[e]=l[e](t),{c(){n.c(),s=ue()},m(i,c){u[e].m(i,c),v(i,s,c),o=!0},p(i,[c]){let a=e;e=r(i),e===a?u[e].p(i,c):(K(),$(u[a],1,1,()=>{u[a]=null}),Y(),n=u[e],n?n.p(i,c):(n=u[e]=l[e](i),n.c()),_(n,1),n.m(s.parentNode,s))},i(i){o||(_(n),o=!0)},o(i){$(n),o=!1},d(i){u[e].d(i),i&&g(s)}}}function So(t,e,n){let s,{$$slots:o={},$$scope:l}=e,{href:u=null}=e,{disabled:r=!1}=e,{spin:i=!1}=e;const c=An();function a(f){sn.call(this,t,f)}return t.$$set=f=>{"href"in f&&n(0,u=f.href),"disabled"in f&&n(1,r=f.disabled),"spin"in f&&n(2,i=f.spin),"$$scope"in f&&n(4,l=f.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&n(3,s=u?c(u):"")},[u,r,i,s,l,o,a]}class se extends J{constructor(e){super(),V(this,e,So,Eo,W,{href:0,disabled:1,spin:2})}}function Io(t){const e=t-1;return e*e*e+1}function Ut(t,{delay:e=0,duration:n=400,easing:s=ge}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:l=>`opacity: ${l*o}`}}function He(t,{delay:e=0,duration:n=400,easing:s=Io,x:o=0,y:l=0,opacity:u=0}={}){const r=getComputedStyle(t),i=+r.opacity,c=r.transform==="none"?"":r.transform,a=i*(1-u),[f,d]=bt(o),[h,b]=bt(l);return{delay:e,duration:n,easing:s,css:(m,p)=>`
			transform: ${c} translate(${(1-m)*f}${d}, ${(1-m)*h}${b});
			opacity: ${i-a*p}`}}function Ft(t,e,n){const s=t.slice();return s[8]=e[n],s[10]=n,s}function Co(t){let e,n,s,o,l;function u(){return t[6](t[10])}return{c(){e=O("div"),I(e,"class","waterblock svelte-qawsg"),Ae(e,"background-color","var(--clr-none)")},m(r,i){v(r,e,i),s=!0,o||(l=$e(e,"click",u),o=!0)},p(r,i){t=r},i(r){s||(r&&ce(()=>{s&&(n||(n=ye(e,He,{y:-200,duration:200,easing:ge},!0)),n.run(1))}),s=!0)},o(r){r&&(n||(n=ye(e,He,{y:-200,duration:200,easing:ge},!1)),n.run(0)),s=!1},d(r){r&&g(e),r&&n&&n.end(),o=!1,l()}}}function Ro(t){let e,n,s=`var(--clr-wtr${t[0].levels[t[10]]})`,o,l,u;function r(){return t[5](t[10])}return{c(){e=O("div"),I(e,"class","waterblock svelte-qawsg"),Ae(e,"background-color",s)},m(i,c){v(i,e,c),o=!0,l||(u=$e(e,"click",r),l=!0)},p(i,c){t=i,c&1&&s!==(s=`var(--clr-wtr${t[0].levels[t[10]]})`)&&Ae(e,"background-color",s)},i(i){o||(i&&ce(()=>{o&&(n||(n=ye(e,He,{y:-200,duration:200,easing:ge},!0)),n.run(1))}),o=!0)},o(i){i&&(n||(n=ye(e,He,{y:-200,duration:200,easing:ge},!1)),n.run(0)),o=!1},d(i){i&&g(e),i&&n&&n.end(),l=!1,u()}}}function Dt(t){let e,n,s;const o=[Ro,Co],l=[];function u(r,i){return r[10]<=r[0].levels.length?0:1}return e=u(t),n=l[e]=o[e](t),{c(){n.c(),s=ue()},m(r,i){l[e].m(r,i),v(r,s,i)},p(r,i){let c=e;e=u(r),e===c?l[e].p(r,i):(K(),$(l[c],1,1,()=>{l[c]=null}),Y(),n=l[e],n?n.p(r,i):(n=l[e]=o[e](r),n.c()),_(n,1),n.m(s.parentNode,s))},d(r){l[e].d(r),r&&g(s)}}}function Ao(t){let e,n,s,o,l,u,r=t[0].name+"",i,c={length:4},a=[];for(let f=0;f<c.length;f+=1)a[f]=Dt(Ft(t,c,f));return{c(){e=O("div"),n=O("div"),s=O("div"),o=L();for(let f=0;f<a.length;f+=1)a[f].c();l=L(),u=O("h4"),i=z(r),I(s,"class","plug svelte-qawsg"),I(n,"class","tube svelte-qawsg"),I(n,"data-selectable",t[3]),q(n,"selected",t[1]),q(n,"highlight",t[2]),q(n,"unplugged",!t[0].done),I(u,"class","svelte-qawsg"),I(e,"class","tube-slot")},m(f,d){v(f,e,d),U(e,n),U(n,s),U(n,o);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(n,null);U(e,l),U(e,u),U(u,i)},p(f,[d]){if(d&17){c={length:4};let h;for(h=0;h<c.length;h+=1){const b=Ft(f,c,h);a[h]?a[h].p(b,d):(a[h]=Dt(b),a[h].c(),a[h].m(n,null))}for(;h<a.length;h+=1)a[h].d(1);a.length=c.length}d&8&&I(n,"data-selectable",f[3]),d&2&&q(n,"selected",f[1]),d&4&&q(n,"highlight",f[2]),d&1&&q(n,"unplugged",!f[0].done),d&1&&r!==(r=f[0].name+"")&&Ye(i,r)},i:j,o:j,d(f){f&&g(e),ft(a,f)}}}function Oo(t,e,n){let{tube:s}=e,{selected:o=!1}=e,{highlight:l=!1}=e,{selectable:u}=e;const r=nn(),i=f=>{r("tube-click",{tubeId:s.id,level:f})},c=f=>i(f),a=f=>i(f);return t.$$set=f=>{"tube"in f&&n(0,s=f.tube),"selected"in f&&n(1,o=f.selected),"highlight"in f&&n(2,l=f.highlight),"selectable"in f&&n(3,u=f.selectable)},[s,o,l,u,i,c,a]}let Po=class extends J{constructor(e){super(),V(this,e,Oo,Ao,W,{tube:0,selected:1,highlight:2,selectable:3})}};function Mn(t){if(t.length<=6)return[t];const e=t.length<=14?2:3,n=Math.floor(t.length/e),s=[];for(let o=0,l=0;o<t.length;l++,o+=n){const u=l<t.length%e?1:0;s.push(t.slice(o,o+n+u)),o+=u}return s}function jt(t,e,n){const s=t.slice();return s[6]=e[n],s}function Bt(t,e,n){const s=t.slice();return s[9]=e[n],s}function qt(t,e){let n,s,o;return s=new Po({props:{tube:e[9],selected:e[1]===e[9].id,selectable:e[0][e[9].id],highlight:e[2]===e[9].id}}),s.$on("tube-click",e[5]),{key:t,first:null,c(){n=ue(),T(s.$$.fragment),this.first=n},m(l,u){v(l,n,u),P(s,l,u),o=!0},p(l,u){e=l;const r={};u&8&&(r.tube=e[9]),u&10&&(r.selected=e[1]===e[9].id),u&9&&(r.selectable=e[0][e[9].id]),u&12&&(r.highlight=e[2]===e[9].id),s.$set(r)},i(l){o||(_(s.$$.fragment,l),o=!0)},o(l){$(s.$$.fragment,l),o=!1},d(l){l&&g(n),M(s,l)}}}function zt(t){let e,n=[],s=new Map,o,l,u=t[6];const r=i=>i[9].id;for(let i=0;i<u.length;i+=1){let c=Bt(t,u,i),a=r(c);s.set(a,n[i]=qt(a,c))}return{c(){e=O("div");for(let i=0;i<n.length;i+=1)n[i].c();o=L(),I(e,"class","tubes-row svelte-17orp1k")},m(i,c){v(i,e,c);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);U(e,o),l=!0},p(i,c){c&15&&(u=i[6],K(),n=cs(n,c,r,1,i,u,s,e,us,qt,o,Bt),Y())},i(i){if(!l){for(let c=0;c<u.length;c+=1)_(n[c]);l=!0}},o(i){for(let c=0;c<n.length;c+=1)$(n[c]);l=!1},d(i){i&&g(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function Mo(t){let e,n,s=t[3],o=[];for(let u=0;u<s.length;u+=1)o[u]=zt(jt(t,s,u));const l=u=>$(o[u],1,1,()=>{o[u]=null});return{c(){e=O("div");for(let u=0;u<o.length;u+=1)o[u].c();I(e,"class","tubes-container")},m(u,r){v(u,e,r);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(e,null);n=!0},p(u,[r]){if(r&15){s=u[3];let i;for(i=0;i<s.length;i+=1){const c=jt(u,s,i);o[i]?(o[i].p(c,r),_(o[i],1)):(o[i]=zt(c),o[i].c(),_(o[i],1),o[i].m(e,null))}for(K(),i=s.length;i<o.length;i+=1)l(i);Y()}},i(u){if(!n){for(let r=0;r<s.length;r+=1)_(o[r]);n=!0}},o(u){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)$(o[r]);n=!1},d(u){u&&g(e),ft(o,u)}}}function No(t,e,n){let{tubes:s}=e,{enabled:o}=e,{selectedId:l=null}=e,{highlightId:u=null}=e,r=[];function i(c){sn.call(this,t,c)}return t.$$set=c=>{"tubes"in c&&n(4,s=c.tubes),"enabled"in c&&n(0,o=c.enabled),"selectedId"in c&&n(1,l=c.selectedId),"highlightId"in c&&n(2,u=c.highlightId)},t.$$.update=()=>{t.$$.dirty&16&&n(3,r=Mn(s))},[o,l,u,r,s,i]}class Nn extends J{constructor(e){super(),V(this,e,No,Mo,W,{tubes:4,enabled:0,selectedId:1,highlightId:2})}}function To(t){let e,n,s,o,l,u;return{c(){e=O("div"),n=O("h2"),s=z(t[1]),I(e,"class",o="modal "+t[0]+" svelte-alsri9")},m(r,i){v(r,e,i),U(e,n),U(n,s),u=!0},p(r,[i]){(!u||i&2)&&Ye(s,r[1]),(!u||i&1&&o!==(o="modal "+r[0]+" svelte-alsri9"))&&I(e,"class",o)},i(r){u||(ce(()=>{u&&(l||(l=ye(e,Ut,{delay:100},!0)),l.run(1))}),u=!0)},o(r){l||(l=ye(e,Ut,{delay:100},!1)),l.run(0),u=!1},d(r){r&&g(e),r&&l&&l.end()}}}function Lo(t,e,n){let s,{result:o}=e,l="";return t.$$set=u=>{"result"in u&&n(2,o=u.result)},t.$$.update=()=>{t.$$.dirty&4&&n(1,s=o?"🏅 You Win 🏅":"You lose 😞"),t.$$.dirty&4&&n(0,l=o?"win":"lose")},[l,s,o]}class Uo extends J{constructor(e){super(),V(this,e,Lo,To,W,{result:2})}}function Fo(t,e){if(t.empty)throw Error(`source-empty ${t.name}`);if(t.done)throw Error(`source-closed ${t.name}`);if(e.full)throw Error(`target-full ${t.name}`);const n=t.topColor;if(!e.empty&&n!==e.topColor)throw Error("invalid-color");const s=Math.min(t.topAmount,e.emptySpace),o=t.levels.slice(0,-s),l=Array(s).fill(n),u=[...e.levels,...l];return[new te(t.id,o),new te(e.id,u)]}class te{constructor(e,n=[]){this.id=e,this.levels=n}get name(){return String.fromCharCode(65+this.id)}get empty(){return this.levels.length===0}get full(){return this.levels.length>=4}get emptySpace(){return 4-this.levels.length}get done(){return this.levels.length===4&&this.levels[0]===this.levels[1]&&this.levels[1]===this.levels[2]&&this.levels[2]==this.levels[3]&&this.levels[3]>0}get topColor(){return this.levels.length?this.levels[this.levels.length-1]:null}get topAmount(){if(this.levels.length<=1)return this.levels.length;const e=this.topColor;let n=1;for(;n<this.levels.length;){if(this.levels[this.levels.length-1-n]!=e)return n;n+=1}return this.levels.length}get singleColor(){return this.topAmount===this.levels.length}accepts(e){return this.empty?4:this.full?0:this.topColor===e?this.emptySpace:0}add(e){if(this.full)throw Error(`tube-full ${this.name}`);return new te(this.id,[...this.levels,e])}}const Tn=19;class Wt{constructor(e,n){Ee(this,"cumulative");Ee(this,"tot");this.items=e,this.cumulative=[],this.tot=0;for(let s=0;s<e.length;s++)this.tot+=n[s],this.cumulative.push(this.tot)}randomItem(){const e=Math.random()*this.tot;for(let n=0;n<this.items.length;n++)if(this.cumulative[n]>e)return this.items[n];return this.items[this.items.length-1]}}function Do(t){let e=[];for(let n=0;n<t.length;n++){const s=t[n];if(!s.done&&!s.empty)for(let o=0;o<t.length;o++){const l=t[o];n!==o&&l.accepts(s.topColor)&&e.push({from:s.id,to:l.id})}}return e}function jo(t){return t.map(e=>e.done||e.empty).reduce((e,n)=>e&&n,!0)}var Ge=(t=>(t[t.Playing=0]="Playing",t[t.Won=1]="Won",t[t.Lost=2]="Lost",t))(Ge||{});class ee{constructor(e=[]){Ee(this,"status");Ee(this,"tubes");this.tubes=[];for(const[n,s]of e.entries())s instanceof te?this.tubes.push(s):this.tubes.push(new te(n,s));this.status=0,jo(this.tubes)?this.status=1:this.possibleActions().length===0&&(this.status=2)}possibleActions(){return Do(this.tubes)}get won(){return this.status===1}get lost(){return this.status===2}get ended(){return this.status!==0}get numClosed(){return this.tubes.filter(e=>e.done).length}historyEntry({from:e,to:n}){if(this.tubes[e].topColor!==this.tubes[n].topColor&&!this.tubes[n].empty)throw new Error("invalid-color");const s=this.tubes[e].topColor;return{fromIndex:e,toIndex:n,fromId:this.tubes[e].name,toId:this.tubes[n].name,color:s,amount:Math.min(this.tubes[e].topAmount,this.tubes[n].accepts(s))}}applyMove({from:e,to:n}){const[s,o]=Fo(this.tubes[e],this.tubes[n]),l=[...this.tubes];return l[e]=s,l[n]=o,new ee(l)}add(e,n){const s=[...this.tubes];return s[n]=this.tubes[n].add(e),new ee(s)}getHash(){return this.tubes.map(e=>e.levels.concat(e.full?[]:[0])).flat().map(e=>e.toString(36)).join("")}}function ot(t){return t[Math.floor(Math.random()*t.length)]}function Bo(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}function qo(t){const e=Array(Tn).fill(null).map((n,s)=>s+1);return Bo(e),e.slice(0,t)}function Ln(t=0){t==0&&(t=10+Math.floor(Math.random()*6));const e=qo(t-2),n=new Array(t-2).fill(null).map((l,u)=>new Array(4).fill(e[u])).concat([[],[]]),s=new ee(n);for(let l=0;l<70;l++){const u=new Wt(s.tubes,s.tubes.map(d=>d.topAmount)).randomItem(),r=s.tubes.filter(d=>!d.full&&d.id!==u.id),i=ot(r),c=Math.min(u.singleColor?u.topAmount-1:u.topAmount,i.emptySpace),a=new Wt([1,2,3].splice(0,c),[1,3,9].splice(c)).randomItem(),f=u.levels.splice(-a);i.levels.push(...f)}let o=s.tubes.filter(l=>l.empty).length;for(let l=0;l<100&&o<2;l++){const u=s.tubes.filter(c=>!c.empty),r=ot(u),i=s.tubes.filter(c=>!c.full&&c.levels.length>r.levels.length);if(i.length>0){const c=ot(i),a=r.levels.splice(-1);c.levels.push(...a)}o=s.tubes.filter(c=>c.empty).length}return new ee(s.tubes)}const Ke=G(Ln());function zo(){return new Worker("/colortubes/assets/solve-worker-06059c46.js")}function Wo(t){let e;return{c(){e=z("New")},m(n,s){v(n,e,s)},d(n){n&&g(e)}}}function Ho(t){let e;return{c(){e=z("Custom")},m(n,s){v(n,e,s)},d(n){n&&g(e)}}}function Go(t){let e;return{c(){e=z("Reset")},m(n,s){v(n,e,s)},d(n){n&&g(e)}}}function Ht(t){let e,n;return e=new se({props:{spin:t[1],$$slots:{default:[Ko]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){T(e.$$.fragment)},m(s,o){P(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.spin=s[1]),o&131072&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function Ko(t){let e;return{c(){e=z("Solve")},m(n,s){v(n,e,s)},d(n){n&&g(e)}}}function Gt(t){let e,n;return e=new se({props:{$$slots:{default:[Yo]},$$scope:{ctx:t}}}),e.$on("click",t[11]),{c(){T(e.$$.fragment)},m(s,o){P(e,s,o),n=!0},p(s,o){const l={};o&131072&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function Yo(t){let e;return{c(){e=z("💡")},m(n,s){v(n,e,s)},d(n){n&&g(e)}}}function Vo(t){let e,n,s,o,l,u,r,i,c;e=new se({props:{$$slots:{default:[Wo]},$$scope:{ctx:t}}}),e.$on("click",t[7]),s=new se({props:{href:"/edit",$$slots:{default:[Ho]},$$scope:{ctx:t}}}),l=new se({props:{$$slots:{default:[Go]},$$scope:{ctx:t}}}),l.$on("click",t[8]);let a=t[0]&&t[5].length==0&&Ht(t),f=t[5].length>0&&Gt(t);return{c(){T(e.$$.fragment),n=L(),T(s.$$.fragment),o=L(),T(l.$$.fragment),u=L(),a&&a.c(),r=L(),f&&f.c(),i=ue()},m(d,h){P(e,d,h),v(d,n,h),P(s,d,h),v(d,o,h),P(l,d,h),v(d,u,h),a&&a.m(d,h),v(d,r,h),f&&f.m(d,h),v(d,i,h),c=!0},p(d,h){const b={};h&131072&&(b.$$scope={dirty:h,ctx:d}),e.$set(b);const m={};h&131072&&(m.$$scope={dirty:h,ctx:d}),s.$set(m);const p={};h&131072&&(p.$$scope={dirty:h,ctx:d}),l.$set(p),d[0]&&d[5].length==0?a?(a.p(d,h),h&33&&_(a,1)):(a=Ht(d),a.c(),_(a,1),a.m(r.parentNode,r)):a&&(K(),$(a,1,1,()=>{a=null}),Y()),d[5].length>0?f?(f.p(d,h),h&32&&_(f,1)):(f=Gt(d),f.c(),_(f,1),f.m(i.parentNode,i)):f&&(K(),$(f,1,1,()=>{f=null}),Y())},i(d){c||(_(e.$$.fragment,d),_(s.$$.fragment,d),_(l.$$.fragment,d),_(a),_(f),c=!0)},o(d){$(e.$$.fragment,d),$(s.$$.fragment,d),$(l.$$.fragment,d),$(a),$(f),c=!1},d(d){M(e,d),d&&g(n),M(s,d),d&&g(o),M(l,d),d&&g(u),a&&a.d(d),d&&g(r),f&&f.d(d),d&&g(i)}}}function Kt(t){let e,n;return e=new Uo({props:{result:t[2].status==Ge.Won}}),{c(){T(e.$$.fragment)},m(s,o){P(e,s,o),n=!0},p(s,o){const l={};o&4&&(l.result=s[2].status==Ge.Won),e.$set(l)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function Jo(t){let e,n,s,o,l,u,r;e=new Pn({props:{$$slots:{default:[Vo]},$$scope:{ctx:t}}}),o=new Nn({props:{tubes:t[2].tubes,selectedId:t[3],highlightId:t[6],enabled:t[4]}}),o.$on("tube-click",t[10]);let i=t[2].ended&&Kt(t);return{c(){T(e.$$.fragment),n=L(),s=O("div"),T(o.$$.fragment),l=L(),i&&i.c(),u=ue(),I(s,"class","cols-2 svelte-m2jv0k")},m(c,a){P(e,c,a),v(c,n,a),v(c,s,a),P(o,s,null),v(c,l,a),i&&i.m(c,a),v(c,u,a),r=!0},p(c,[a]){const f={};a&131107&&(f.$$scope={dirty:a,ctx:c}),e.$set(f);const d={};a&4&&(d.tubes=c[2].tubes),a&8&&(d.selectedId=c[3]),a&64&&(d.highlightId=c[6]),a&16&&(d.enabled=c[4]),o.$set(d),c[2].ended?i?(i.p(c,a),a&4&&_(i,1)):(i=Kt(c),i.c(),_(i,1),i.m(u.parentNode,u)):i&&(K(),$(i,1,1,()=>{i=null}),Y())},i(c){r||(_(e.$$.fragment,c),_(o.$$.fragment,c),_(i),r=!0)},o(c){$(e.$$.fragment,c),$(o.$$.fragment,c),$(i),r=!1},d(c){M(e,c),c&&g(n),c&&g(s),M(o),c&&g(l),i&&i.d(c),c&&g(u)}}}function Qo(t,e,n){let s;H(t,Ke,y=>n(13,s=y));let o=null,l=!1,u=s,r=null,i=[],c=[],a=[],f=null;tn(async()=>{console.log("initializing web worker"),n(0,o=new zo),n(0,o.onmessage=function(y){y.data.result===Ge.Won&&(n(5,a=y.data.actions),console.debug(a)),n(1,l=!1)},o)});function d(){console.debug("generating new game"),Ke.set(Ln()),h()}function h(){n(2,u=s),n(3,r=null),n(6,f=null),i=[],n(5,a=[]),S()}function b(){o.postMessage(u),n(1,l=!0)}function m(y){return r===y?!0:!(u.tubes[y].done||r===null&&u.tubes[y].empty||r!==null&&u.tubes[y].full)}function p(y){console.log(`clicked ${JSON.stringify(y.detail)}`);const C=y.detail;if(!m(C.tubeId))return;const N=C.tubeId;if(r===null)n(3,r=N),console.debug(`selecting tube ${r}`);else if(r===N)console.debug(`deselecting tube ${r}`),n(3,r=null);else{if(w(r,N),a.length>0){const R=a[0];N===R.toIndex&&r===R.fromIndex?n(5,a=a.slice(1)):n(5,a=[])}n(3,r=null),n(6,f=null)}S()}function S(){n(4,c=u.tubes.map(y=>m(y.id)))}function w(y,C){try{const N=u.historyEntry({from:y,to:C});n(2,u=u.applyMove({from:y,to:C})),console.info(`applied move ${JSON.stringify(N)}`),i=[...i,N]}catch(N){console.log(N.message)}}function E(){a.length>0&&(n(3,r=a[0].fromIndex),n(6,f=a[0].toIndex))}return[o,l,u,r,c,a,f,d,h,b,p,E]}class Xo extends J{constructor(e){super(),V(this,e,Qo,Jo,W,{})}}function Yt(t,e,n){const s=t.slice();return s[7]=e[n],s}function Vt(t){let e,n=(t[0][t[7]]||"")+"",s,o=`var(--clr-wtr${t[7]>=0?t[7]:"-none"})`,l,u;function r(){return t[4](t[7])}return{c(){e=O("button"),s=z(n),I(e,"class","cell svelte-1smq6qh"),q(e,"curr",t[7]===t[1]),q(e,"extra",t[0][t[7]]>4),Ae(e,"--color",o)},m(i,c){v(i,e,c),U(e,s),l||(u=$e(e,"click",r),l=!0)},p(i,c){t=i,c&1&&n!==(n=(t[0][t[7]]||"")+"")&&Ye(s,n),c&6&&q(e,"curr",t[7]===t[1]),c&5&&q(e,"extra",t[0][t[7]]>4)},d(i){i&&g(e),l=!1,u()}}}function Zo(t){let e,n,s,o,l,u=t[2],r=[];for(let i=0;i<u.length;i+=1)r[i]=Vt(Yt(t,u,i));return{c(){e=O("div");for(let i=0;i<r.length;i+=1)r[i].c();n=L(),s=O("button"),I(s,"class","cell empty svelte-1smq6qh"),q(s,"curr",t[1]===null),Ae(s,"--color","var(--clr-wtr-none)"),I(e,"class","palette svelte-1smq6qh")},m(i,c){v(i,e,c);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);U(e,n),U(e,s),o||(l=$e(s,"click",t[5]),o=!0)},p(i,[c]){if(c&15){u=i[2];let a;for(a=0;a<u.length;a+=1){const f=Yt(i,u,a);r[a]?r[a].p(f,c):(r[a]=Vt(f),r[a].c(),r[a].m(e,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=u.length}c&2&&q(s,"curr",i[1]===null)},i:j,o:j,d(i){i&&g(e),ft(r,i),o=!1,l()}}}function xo(t,e,n){const s=nn();let{counts:o={}}=e;const l=Array(Tn).fill(null).map((a,f)=>f+1);let u=null;function r(a){n(1,u=a),s("color-pick",a)}const i=a=>r(a),c=()=>r(null);return t.$$set=a=>{"counts"in a&&n(0,o=a.counts)},[o,u,l,r,i,c]}class el extends J{constructor(e){super(),V(this,e,xo,Zo,W,{counts:0})}}function tl(t){let e;return{c(){e=z("Reset")},m(n,s){v(n,e,s)},d(n){n&&g(e)}}}function nl(t){let e;return{c(){e=z("Discard")},m(n,s){v(n,e,s)},d(n){n&&g(e)}}}function sl(t){let e;return{c(){e=z("Play")},m(n,s){v(n,e,s)},d(n){n&&g(e)}}}function ol(t){let e,n,s,o,l,u;return e=new se({props:{$$slots:{default:[tl]},$$scope:{ctx:t}}}),e.$on("click",t[5]),s=new se({props:{href:"/",$$slots:{default:[nl]},$$scope:{ctx:t}}}),l=new se({props:{disabled:!t[3],$$slots:{default:[sl]},$$scope:{ctx:t}}}),l.$on("click",t[8]),{c(){T(e.$$.fragment),n=L(),T(s.$$.fragment),o=L(),T(l.$$.fragment)},m(r,i){P(e,r,i),v(r,n,i),P(s,r,i),v(r,o,i),P(l,r,i),u=!0},p(r,i){const c={};i&65536&&(c.$$scope={dirty:i,ctx:r}),e.$set(c);const a={};i&65536&&(a.$$scope={dirty:i,ctx:r}),s.$set(a);const f={};i&8&&(f.disabled=!r[3]),i&65536&&(f.$$scope={dirty:i,ctx:r}),l.$set(f)},i(r){u||(_(e.$$.fragment,r),_(s.$$.fragment,r),_(l.$$.fragment,r),u=!0)},o(r){$(e.$$.fragment,r),$(s.$$.fragment,r),$(l.$$.fragment,r),u=!1},d(r){M(e,r),r&&g(n),M(s,r),r&&g(o),M(l,r)}}}function ll(t){let e,n,s,o,l,u,r,i,c,a,f,d,h,b;return e=new Pn({props:{$$slots:{default:[ol]},$$scope:{ctx:t}}}),c=new el({props:{counts:t[1]}}),c.$on("color-pick",t[6]),f=new Nn({props:{tubes:t[0].tubes,enabled:t[2]}}),f.$on("tube-click",t[7]),{c(){T(e.$$.fragment),n=L(),s=O("div"),o=O("label"),o.textContent="Num. Tubes",l=L(),u=O("input"),i=L(),T(c.$$.fragment),a=L(),T(f.$$.fragment),I(o,"for","num_tubes"),I(u,"type","number"),I(u,"name","num_tubes"),I(u,"min","5"),I(u,"max","20"),u.value=r=t[0].tubes.length,I(u,"class","svelte-1ypq0x8")},m(m,p){P(e,m,p),v(m,n,p),v(m,s,p),U(s,o),U(s,l),U(s,u),v(m,i,p),P(c,m,p),v(m,a,p),P(f,m,p),d=!0,h||(b=$e(u,"change",t[4]),h=!0)},p(m,[p]){const S={};p&65544&&(S.$$scope={dirty:p,ctx:m}),e.$set(S),(!d||p&1&&r!==(r=m[0].tubes.length)&&u.value!==r)&&(u.value=r);const w={};p&2&&(w.counts=m[1]),c.$set(w);const E={};p&1&&(E.tubes=m[0].tubes),p&4&&(E.enabled=m[2]),f.$set(E)},i(m){d||(_(e.$$.fragment,m),_(c.$$.fragment,m),_(f.$$.fragment,m),d=!0)},o(m){$(e.$$.fragment,m),$(c.$$.fragment,m),$(f.$$.fragment,m),d=!1},d(m){M(e,m),m&&g(n),m&&g(s),m&&g(i),M(c,m),m&&g(a),M(f,m),h=!1,b()}}}function rl(t){return t.length<4?t.concat(new Array(4-t.length).fill(0)):t}function il(t){const e={};for(const n of t)for(const s of n.levels)s&&(e[s]=++e[s]||1);return e}function ul(t){const e=new Set(Object.values(t));return e.size===1&&e.has(4)}function cl(t,e,n){let s;H(t,Ke,w=>n(11,s=w));let o=s,l=[];o.tubes;let u=null,r={},i=!1;const c=On();function a(w,E=0){return Array(w).fill(null).map((y,C)=>new te(E+C,[0,0,0,0]))}function f(w){const y=+w.target.value;if(y<o.tubes.length&&n(0,o=new ee(o.tubes.slice(0,y))),y>o.tubes.length){const C=y-o.tubes.length;n(0,o=new ee([...o.tubes,...a(C,o.tubes.length)]))}n(2,l=o.tubes.map(C=>!0))}function d(){n(0,o=new ee(a(o.tubes.length)))}function h(w){return w.map(E=>{const y=E.levels.indexOf(0);return y>=0?new te(E.id,E.levels.slice(0,y)):E})}function b(w){u=w.detail}function m(w,E){console.debug(`apply color ${u} to tube ${w} level ${E}`);const y=o.tubes[w],C=rl([...y.levels]);C[E]=u||0;const N=[...o.tubes];N[w]=new te(y.id,C),n(0,o.tubes=N,o)}function p(w){let E=w.detail;m(E.tubeId,E.level)}function S(){if(i){const w=new ee(h(o.tubes));Ke.set(w),c("/")}}return t.$$.update=()=>{t.$$.dirty&1&&Mn(o.tubes),t.$$.dirty&1&&n(1,r=il(o.tubes)),t.$$.dirty&2&&n(3,i=ul(r))},[o,r,l,i,f,d,b,p,S]}class fl extends J{constructor(e){super(),V(this,e,cl,ll,W,{})}}function al(t){let e,n;return e=new Xo({}),{c(){T(e.$$.fragment)},m(s,o){P(e,s,o),n=!0},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function dl(t){let e,n;return e=new fl({}),{c(){T(e.$$.fragment)},m(s,o){P(e,s,o),n=!0},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){M(e,s)}}}function hl(t){let e,n,s,o;return e=new Tt({props:{path:"/",$$slots:{default:[al]},$$scope:{ctx:t}}}),s=new Tt({props:{path:"/edit",$$slots:{default:[dl]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment),n=L(),T(s.$$.fragment)},m(l,u){P(e,l,u),v(l,n,u),P(s,l,u),o=!0},p(l,u){const r={};u&1&&(r.$$scope={dirty:u,ctx:l}),e.$set(r);const i={};u&1&&(i.$$scope={dirty:u,ctx:l}),s.$set(i)},i(l){o||(_(e.$$.fragment,l),_(s.$$.fragment,l),o=!0)},o(l){$(e.$$.fragment,l),$(s.$$.fragment,l),o=!1},d(l){M(e,l),l&&g(n),M(s,l)}}}function ml(t){let e,n,s,o,l,u;return l=new Cn({props:{basepath:"/colortubes",$$slots:{default:[hl]},$$scope:{ctx:t}}}),{c(){e=O("div"),n=O("header"),n.innerHTML='<h1 class="svelte-epiei1">Color Water Tubes</h1>',s=L(),o=O("main"),T(l.$$.fragment),I(n,"class","svelte-epiei1"),I(e,"class","root-container svelte-epiei1")},m(r,i){v(r,e,i),U(e,n),U(e,s),U(e,o),P(l,o,null),u=!0},p(r,[i]){const c={};i&1&&(c.$$scope={dirty:i,ctx:r}),l.$set(c)},i(r){u||(_(l.$$.fragment,r),u=!0)},o(r){$(l.$$.fragment,r),u=!1},d(r){r&&g(e),M(l)}}}class _l extends J{constructor(e){super(),V(this,e,null,ml,W,{})}}new _l({target:document.getElementById("app")});
