var is=Object.defineProperty;var Ir=e=>{throw TypeError(e)};var ss=(e,t,n)=>t in e?is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var le=(e,t,n)=>ss(e,typeof t!="symbol"?t+"":t,n),jn=(e,t,n)=>t.has(e)||Ir("Cannot "+n);var c=(e,t,n)=>(jn(e,t,"read from private field"),n?n.call(e):t.get(e)),R=(e,t,n)=>t.has(e)?Ir("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),T=(e,t,n,r)=>(jn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),D=(e,t,n)=>(jn(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const ls="5";var Zr;typeof window<"u"&&((Zr=window.__svelte??(window.__svelte={})).v??(Zr.v=new Set)).add(ls);let qt=!1,os=!1;function as(){qt=!0}as();const Ln=1,Nn=2,Qr=4,us=8,fs=16,cs=1,hs=2,ds=4,vs=8,_s=16,gs=4,ps=1,ms=2,K=Symbol(),bs="http://www.w3.org/1999/xhtml",ei=!1;var ti=Array.isArray,ws=Array.prototype.indexOf,cr=Array.from,ni=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,ys=Object.getOwnPropertyDescriptors,Es=Object.prototype,Ts=Array.prototype,ri=Object.getPrototypeOf,Rr=Object.isExtensible;function Ss(e){return typeof e=="function"}const ae=()=>{};function ks(e){for(var t=0;t<e.length;t++)e[t]()}function ii(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const te=2,hr=4,dr=8,We=16,Xe=32,St=64,Dn=128,Q=1024,ce=2048,Ke=4096,ge=8192,He=16384,Fn=32768,Ge=65536,xr=1<<17,Ps=1<<18,zt=1<<19,As=1<<20,Ee=256,wn=512,yn=32768,Yn=1<<21,vr=1<<22,bt=1<<23,pn=Symbol("$state"),Cs=Symbol("legacy props"),Is=Symbol(""),Rt=new class extends Error{constructor(){super(...arguments);le(this,"name","StaleReactionError");le(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Rs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function xs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Os(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ms(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ls(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ns(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ds(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Fs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ws(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Us(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function $s(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function js(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let qs=!1;function si(e){return e===this.v}function li(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function oi(e){return!li(e,this.v)}let B=null;function Ut(e){B=e}function ut(e,t=!1,n){B={p:B,i:!1,c:null,e:null,s:e,x:null,l:qt&&!t?{s:null,u:null,$:[]}:null}}function ft(e){var t=B,n=t.e;if(n!==null){t.e=null;for(var r of n)Ti(r)}return t.i=!0,B=t.p,{}}function sn(){return!qt||B!==null&&B.l===null}let xt=[];function zs(){var e=xt;xt=[],ks(e)}function Bt(e){if(xt.length===0){var t=xt;queueMicrotask(()=>{t===xt&&zs()})}xt.push(e)}function ai(e){var t=x;if(t===null)return I.f|=bt,e;if(t.f&Fn)$t(e,t);else{if(!(t.f&Dn))throw e;t.b.error(e)}}function $t(e,t){for(;t!==null;){if(t.f&Dn)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const dn=new Set;let q=null,G=null,Gn=new Set,Ze=[],_r=null,Vn=!1;var Nt,Dt,dt,vt,en,Ft,Wt,Z,Xn,ht,ui,fi;const Rn=class Rn{constructor(){R(this,Z);le(this,"committed",!1);le(this,"current",new Map);le(this,"previous",new Map);R(this,Nt,new Set);R(this,Dt,new Set);R(this,dt,0);R(this,vt,0);R(this,en,null);R(this,Ft,[]);R(this,Wt,[]);le(this,"skipped_effects",new Set);le(this,"is_fork",!1)}process(t){Ze=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)D(this,Z,Xn).call(this,r,n);this.is_fork||D(this,Z,ui).call(this),c(this,vt)>0||this.is_fork?(D(this,Z,ht).call(this,n.effects),D(this,Z,ht).call(this,n.render_effects),D(this,Z,ht).call(this,n.block_effects)):(q=null,Or(n.render_effects),Or(n.effects)),G=null}capture(t,n){this.previous.has(t)||this.previous.set(t,n),this.current.set(t,t.v),G==null||G.set(t,t.v)}activate(){q=this}deactivate(){q=null,G=null}flush(){if(this.activate(),Ze.length>0){if(Bs(),q!==null&&q!==this)return}else c(this,dt)===0&&this.process([]);this.deactivate();for(const t of Gn)if(Gn.delete(t),t(),q!==null)break}discard(){for(const t of c(this,Dt))t(this);c(this,Dt).clear()}increment(t){T(this,dt,c(this,dt)+1),t&&T(this,vt,c(this,vt)+1)}decrement(t){T(this,dt,c(this,dt)-1),t&&T(this,vt,c(this,vt)-1),this.revive()}revive(){for(const t of c(this,Ft))ee(t,ce),Et(t);for(const t of c(this,Wt))ee(t,Ke),Et(t);T(this,Ft,[]),T(this,Wt,[]),this.flush()}oncommit(t){c(this,Nt).add(t)}ondiscard(t){c(this,Dt).add(t)}settled(){return(c(this,en)??T(this,en,ii())).promise}static ensure(){if(q===null){const t=q=new Rn;dn.add(q),Rn.enqueue(()=>{q===t&&t.flush()})}return q}static enqueue(t){Bt(t)}apply(){}};Nt=new WeakMap,Dt=new WeakMap,dt=new WeakMap,vt=new WeakMap,en=new WeakMap,Ft=new WeakMap,Wt=new WeakMap,Z=new WeakSet,Xn=function(t,n){var f;t.f^=Q;for(var r=t.first;r!==null;){var i=r.f,s=(i&(Xe|St))!==0,l=s&&(i&Q)!==0,o=l||(i&ge)!==0||this.skipped_effects.has(r);if(r.f&Dn&&((f=r.b)!=null&&f.is_pending())&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!o&&r.fn!==null){s?r.f^=Q:i&hr?n.effects.push(r):un(r)&&(r.f&We&&n.block_effects.push(r),Jt(r));var a=r.first;if(a!==null){r=a;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(D(this,Z,ht).call(this,n.effects),D(this,Z,ht).call(this,n.render_effects),D(this,Z,ht).call(this,n.block_effects),n=n.parent),r=u.next,u=u.parent}},ht=function(t){for(const n of t)(n.f&ce?c(this,Ft):c(this,Wt)).push(n),ee(n,Q)},ui=function(){if(c(this,vt)===0){for(const t of c(this,Nt))t();c(this,Nt).clear()}c(this,dt)===0&&D(this,Z,fi).call(this)},fi=function(){var i,s;if(dn.size>1){this.previous.clear();var t=G,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const l of dn){if(l===this){n=!1;continue}const o=[];for(const[u,f]of this.current){if(l.current.has(u))if(n&&f!==l.current.get(u))l.current.set(u,f);else continue;o.push(u)}if(o.length===0)continue;const a=[...l.current.keys()].filter(u=>!this.current.has(u));if(a.length>0){const u=new Set,f=new Map;for(const h of o)ci(h,a,u,f);if(Ze.length>0){q=l,l.apply();for(const h of Ze)D(i=l,Z,Xn).call(i,h,r);Ze=[],l.deactivate()}}}q=null,G=t}this.committed=!0,dn.delete(this),(s=c(this,en))==null||s.resolve()};let Be=Rn;function Bs(){var e=Lt;Vn=!0;try{var t=0;for(Lr(!0);Ze.length>0;){var n=Be.ensure();if(t++>1e3){var r,i;Hs()}n.process(Ze),st.clear()}}finally{Vn=!1,Lr(e),_r=null}}function Hs(){try{Ns()}catch(e){$t(e,_r)}}let Te=null;function Or(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(He|ge))&&un(r)&&(Te=new Set,Jt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Pi(r):r.fn=null),(Te==null?void 0:Te.size)>0)){st.clear();for(const i of Te){if(i.f&(He|ge))continue;const s=[i];let l=i.parent;for(;l!==null;)Te.has(l)&&(Te.delete(l),s.push(l)),l=l.parent;for(let o=s.length-1;o>=0;o--){const a=s[o];a.f&(He|ge)||Jt(a)}}Te.clear()}}Te=null}}function ci(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;s&te?ci(i,t,n,r):s&(vr|We)&&!(s&ce)&&hi(i,t,r)&&(ee(i,ce),Et(i))}}function hi(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if(i.f&te&&hi(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function Et(e){for(var t=_r=e;t.parent!==null;){t=t.parent;var n=t.f;if(Vn&&t===x&&n&We)return;if(n&(St|Xe)){if(!(n&Q))return;t.f^=Q}}Ze.push(t)}function Ys(e){let t=0,n=Tt(0),r;return()=>{ol()&&(_(n),cl(()=>(t===0&&(r=fn(()=>e(()=>Le(n)))),t+=1,()=>{Bt(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Le(n))})})))}}var Gs=Ge|zt|Dn;function Vs(e,t,n){new Xs(e,t,n)}var be,we,fr,Re,_t,xe,ye,oe,Oe,je,tt,gt,nt,pt,rt,xn,On,Y,Ks,Js,Kn,mn,bn,Jn;class Xs{constructor(t,n,r){R(this,Y);le(this,"parent");R(this,be,!1);R(this,we);R(this,fr,null);R(this,Re);R(this,_t);R(this,xe);R(this,ye,null);R(this,oe,null);R(this,Oe,null);R(this,je,null);R(this,tt,null);R(this,gt,0);R(this,nt,0);R(this,pt,!1);R(this,rt,null);R(this,xn,()=>{c(this,rt)&&jt(c(this,rt),c(this,gt))});R(this,On,Ys(()=>(T(this,rt,Tt(c(this,gt))),()=>{T(this,rt,null)})));T(this,we,t),T(this,Re,n),T(this,_t,r),this.parent=x.b,T(this,be,!!c(this,Re).pending),T(this,xe,an(()=>{x.b=this;{var i=D(this,Y,Kn).call(this);try{T(this,ye,ke(()=>r(i)))}catch(s){this.error(s)}c(this,nt)>0?D(this,Y,bn).call(this):T(this,be,!1)}return()=>{var s;(s=c(this,tt))==null||s.remove()}},Gs))}is_pending(){return c(this,be)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!c(this,Re).pending}update_pending_count(t){D(this,Y,Jn).call(this,t),T(this,gt,c(this,gt)+t),Gn.add(c(this,xn))}get_effect_pending(){return c(this,On).call(this),_(c(this,rt))}error(t){var n=c(this,Re).onerror;let r=c(this,Re).failed;if(c(this,pt)||!n&&!r)throw t;c(this,ye)&&(ie(c(this,ye)),T(this,ye,null)),c(this,oe)&&(ie(c(this,oe)),T(this,oe,null)),c(this,Oe)&&(ie(c(this,Oe)),T(this,Oe,null));var i=!1,s=!1;const l=()=>{if(i){js();return}i=!0,s&&$s(),Be.ensure(),T(this,gt,0),c(this,Oe)!==null&&Mt(c(this,Oe),()=>{T(this,Oe,null)}),T(this,be,this.has_pending_snippet()),T(this,ye,D(this,Y,mn).call(this,()=>(T(this,pt,!1),ke(()=>c(this,_t).call(this,c(this,we)))))),c(this,nt)>0?D(this,Y,bn).call(this):T(this,be,!1)};var o=I;try{ue(null),s=!0,n==null||n(t,l),s=!1}catch(a){$t(a,c(this,xe)&&c(this,xe).parent)}finally{ue(o)}r&&Bt(()=>{T(this,Oe,D(this,Y,mn).call(this,()=>{Be.ensure(),T(this,pt,!0);try{return ke(()=>{r(c(this,we),()=>t,()=>l)})}catch(a){return $t(a,c(this,xe).parent),null}finally{T(this,pt,!1)}}))})}}be=new WeakMap,we=new WeakMap,fr=new WeakMap,Re=new WeakMap,_t=new WeakMap,xe=new WeakMap,ye=new WeakMap,oe=new WeakMap,Oe=new WeakMap,je=new WeakMap,tt=new WeakMap,gt=new WeakMap,nt=new WeakMap,pt=new WeakMap,rt=new WeakMap,xn=new WeakMap,On=new WeakMap,Y=new WeakSet,Ks=function(){try{T(this,ye,ke(()=>c(this,_t).call(this,c(this,we))))}catch(t){this.error(t)}T(this,be,!1)},Js=function(){const t=c(this,Re).pending;t&&(T(this,oe,ke(()=>t(c(this,we)))),Be.enqueue(()=>{var n=D(this,Y,Kn).call(this);T(this,ye,D(this,Y,mn).call(this,()=>(Be.ensure(),ke(()=>c(this,_t).call(this,n))))),c(this,nt)>0?D(this,Y,bn).call(this):(Mt(c(this,oe),()=>{T(this,oe,null)}),T(this,be,!1))}))},Kn=function(){var t=c(this,we);return c(this,be)&&(T(this,tt,ot()),c(this,we).before(c(this,tt)),t=c(this,tt)),t},mn=function(t){var n=x,r=I,i=B;Fe(c(this,xe)),ue(c(this,xe)),Ut(c(this,xe).ctx);try{return t()}catch(s){return ai(s),null}finally{Fe(n),ue(r),Ut(i)}},bn=function(){const t=c(this,Re).pending;c(this,ye)!==null&&(T(this,je,document.createDocumentFragment()),c(this,je).append(c(this,tt)),Ii(c(this,ye),c(this,je))),c(this,oe)===null&&T(this,oe,ke(()=>t(c(this,we))))},Jn=function(t){var n;if(!this.has_pending_snippet()){this.parent&&D(n=this.parent,Y,Jn).call(n,t);return}T(this,nt,c(this,nt)+t),c(this,nt)===0&&(T(this,be,!1),c(this,oe)&&Mt(c(this,oe),()=>{T(this,oe,null)}),c(this,je)&&(c(this,we).before(c(this,je)),T(this,je,null)))};function Zs(e,t,n){const r=sn()?Wn:gr;if(t.length===0){n(e.map(r));return}var i=q,s=x,l=Qs();Promise.all(t.map(o=>el(o))).then(o=>{l();try{n([...e.map(r),...o])}catch(a){s.f&He||$t(a,s)}i==null||i.deactivate(),Zn()}).catch(o=>{$t(o,s)})}function Qs(){var e=x,t=I,n=B,r=q;return function(s=!0){Fe(e),ue(t),Ut(n),s&&(r==null||r.activate())}}function Zn(){Fe(null),ue(null),Ut(null)}function Wn(e){var t=te|ce,n=I!==null&&I.f&te?I:null;return x===null||n!==null&&n.f&Ee?t|=Ee:x.f|=zt,{ctx:B,deps:null,effects:null,equals:si,f:t,fn:e,reactions:null,rv:0,v:K,wv:0,parent:n??x,ac:null}}function el(e,t){let n=x;n===null&&xs();var r=n.b,i=void 0,s=Tt(K),l=!I,o=new Map;return fl(()=>{var g;var a=ii();i=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).then(()=>{u===q&&u.committed&&u.deactivate(),Zn()})}catch(v){a.reject(v),Zn()}var u=q;if(l){var f=!r.is_pending();r.update_pending_count(1),u.increment(f),(g=o.get(u))==null||g.reject(Rt),o.delete(u),o.set(u,a)}const h=(v,d=void 0)=>{if(u.activate(),d)d!==Rt&&(s.f|=bt,jt(s,d));else{s.f&bt&&(s.f^=bt),jt(s,v);for(const[p,m]of o){if(o.delete(p),p===u)break;m.reject(Rt)}}l&&(r.update_pending_count(-1),u.decrement(f))};a.promise.then(h,v=>h(null,v||"unknown"))}),mr(()=>{for(const a of o.values())a.reject(Rt)}),new Promise(a=>{function u(f){function h(){f===i?a(s):u(i)}f.then(h,h)}u(i)})}function _e(e){const t=Wn(e);return Ri(t),t}function gr(e){const t=Wn(e);return t.equals=oi,t}function di(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ie(t[n])}}function tl(e){for(var t=e.parent;t!==null;){if(!(t.f&te))return t;t=t.parent}return null}function pr(e){var t,n=x;Fe(tl(e));try{e.f&=~yn,di(e),t=Li(e)}finally{Fe(n)}return t}function vi(e){var t=pr(e);if(e.equals(t)||(e.v=t,e.wv=Oi()),!kt)if(G!==null)G.set(e,e.v);else{var n=(it||e.f&Ee)&&e.deps!==null?Ke:Q;ee(e,n)}}let Qn=new Set;const st=new Map;let _i=!1;function Tt(e,t){var n={f:0,v:e,reactions:null,equals:si,rv:0,wv:0};return n}function z(e,t){const n=Tt(e);return Ri(n),n}function gi(e,t=!1,n=!0){var i;const r=Tt(e);return t||(r.equals=oi),qt&&n&&B!==null&&B.l!==null&&((i=B.l).s??(i.s=[])).push(r),r}function C(e,t,n=!1){I!==null&&(!Pe||I.f&xr)&&sn()&&I.f&(te|We|vr|xr)&&!(se!=null&&se.includes(e))&&Us();let r=n?re(t):t;return jt(e,r)}function jt(e,t){if(!e.equals(t)){var n=e.v;kt?st.set(e,t):st.set(e,n),e.v=t;var r=Be.ensure();r.capture(e,n),e.f&te&&(e.f&ce&&pr(e),ee(e,e.f&Ee?Ke:Q)),e.wv=Oi(),pi(e,ce),sn()&&x!==null&&x.f&Q&&!(x.f&(Xe|St))&&(me===null?vl([e]):me.push(e)),!r.is_fork&&Qn.size>0&&!_i&&nl()}return t}function nl(){_i=!1;const e=Array.from(Qn);for(const t of e)t.f&Q&&ee(t,Ke),un(t)&&Jt(t);Qn.clear()}function Le(e){C(e,e.v+1)}function pi(e,t){var n=e.reactions;if(n!==null)for(var r=sn(),i=n.length,s=0;s<i;s++){var l=n[s],o=l.f;if(!(!r&&l===x)){var a=(o&ce)===0;a&&ee(l,t),o&te?o&yn||(l.f|=yn,pi(l,Ke)):a&&(o&We&&Te!==null&&Te.add(l),Et(l))}}}function re(e){if(typeof e!="object"||e===null||pn in e)return e;const t=ri(e);if(t!==Es&&t!==Ts)return e;var n=new Map,r=ti(e),i=z(0),s=wt,l=o=>{if(wt===s)return o();var a=I,u=wt;ue(null),Dr(s);var f=o();return ue(a),Dr(u),f};return r&&n.set("length",z(e.length)),new Proxy(e,{defineProperty(o,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Fs();var f=n.get(a);return f===void 0?f=l(()=>{var h=z(u.value);return n.set(a,h),h}):C(f,u.value,!0),!0},deleteProperty(o,a){var u=n.get(a);if(u===void 0){if(a in o){const f=l(()=>z(K));n.set(a,f),Le(i)}}else C(u,K),Le(i);return!0},get(o,a,u){var v;if(a===pn)return e;var f=n.get(a),h=a in o;if(f===void 0&&(!h||(v=Ot(o,a))!=null&&v.writable)&&(f=l(()=>{var d=re(h?o[a]:K),p=z(d);return p}),n.set(a,f)),f!==void 0){var g=_(f);return g===K?void 0:g}return Reflect.get(o,a,u)},getOwnPropertyDescriptor(o,a){var u=Reflect.getOwnPropertyDescriptor(o,a);if(u&&"value"in u){var f=n.get(a);f&&(u.value=_(f))}else if(u===void 0){var h=n.get(a),g=h==null?void 0:h.v;if(h!==void 0&&g!==K)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(o,a){var g;if(a===pn)return!0;var u=n.get(a),f=u!==void 0&&u.v!==K||Reflect.has(o,a);if(u!==void 0||x!==null&&(!f||(g=Ot(o,a))!=null&&g.writable)){u===void 0&&(u=l(()=>{var v=f?re(o[a]):K,d=z(v);return d}),n.set(a,u));var h=_(u);if(h===K)return!1}return f},set(o,a,u,f){var k;var h=n.get(a),g=a in o;if(r&&a==="length")for(var v=u;v<h.v;v+=1){var d=n.get(v+"");d!==void 0?C(d,K):v in o&&(d=l(()=>z(K)),n.set(v+"",d))}if(h===void 0)(!g||(k=Ot(o,a))!=null&&k.writable)&&(h=l(()=>z(void 0)),C(h,re(u)),n.set(a,h));else{g=h.v!==K;var p=l(()=>re(u));C(h,p)}var m=Reflect.getOwnPropertyDescriptor(o,a);if(m!=null&&m.set&&m.set.call(f,u),!g){if(r&&typeof a=="string"){var b=n.get("length"),w=Number(a);Number.isInteger(w)&&w>=b.v&&C(b,w+1)}Le(i)}return!0},ownKeys(o){_(i);var a=Reflect.ownKeys(o).filter(h=>{var g=n.get(h);return g===void 0||g.v!==K});for(var[u,f]of n)f.v!==K&&!(u in o)&&a.push(u);return a},setPrototypeOf(){Ws()}})}var Mr,mi,bi,wi;function rl(){if(Mr===void 0){Mr=window,mi=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;bi=Ot(t,"firstChild").get,wi=Ot(t,"nextSibling").get,Rr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Rr(n)&&(n.__t=void 0)}}function ot(e=""){return document.createTextNode(e)}function En(e){return bi.call(e)}function ln(e){return wi.call(e)}function fe(e,t){return En(e)}function Ve(e,t=!1){{var n=En(e);return n instanceof Comment&&n.data===""?ln(n):n}}function H(e,t=1,n=!1){let r=e;for(;t--;)r=ln(r);return r}function il(e){e.textContent=""}function yi(){return!1}function on(e){var t=I,n=x;ue(null),Fe(null);try{return e()}finally{ue(t),Fe(n)}}function sl(e){x===null&&I===null&&Ls(),I!==null&&I.f&Ee&&x===null&&Ms(),kt&&Os()}function ll(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Je(e,t,n,r=!0){var i=x;i!==null&&i.f&ge&&(e|=ge);var s={ctx:B,deps:null,nodes_start:null,nodes_end:null,f:e|ce,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Jt(s),s.f|=Fn}catch(a){throw ie(s),a}else t!==null&&Et(s);if(r){var l=s;if(n&&l.deps===null&&l.teardown===null&&l.nodes_start===null&&l.first===l.last&&!(l.f&zt)&&(l=l.first,e&We&&e&Ge&&l!==null&&(l.f|=Ge)),l!==null&&(l.parent=i,i!==null&&ll(l,i),I!==null&&I.f&te&&!(e&St))){var o=I;(o.effects??(o.effects=[])).push(l)}}return s}function ol(){return I!==null&&!Pe}function mr(e){const t=Je(dr,null,!1);return ee(t,Q),t.teardown=e,t}function Ei(e){sl();var t=x.f,n=!I&&(t&Xe)!==0&&(t&Fn)===0;if(n){var r=B;(r.e??(r.e=[])).push(e)}else return Ti(e)}function Ti(e){return Je(hr|As,e,!1)}function al(e){Be.ensure();const t=Je(St|zt,e,!0);return(n={})=>new Promise(r=>{n.outro?Mt(t,()=>{ie(t),r(void 0)}):(ie(t),r(void 0))})}function ul(e){return Je(hr,e,!1)}function fl(e){return Je(vr|zt,e,!0)}function cl(e,t=0){return Je(dr|t,e,!0)}function at(e,t=[],n=[]){Zs(t,n,r=>{Je(dr,()=>e(...r.map(_)),!0)})}function an(e,t=0){var n=Je(We|t,e,!0);return n}function ke(e,t=!0){return Je(Xe|zt,e,!0,t)}function Si(e){var t=e.teardown;if(t!==null){const n=kt,r=I;Nr(!0),ue(null);try{t.call(null)}finally{Nr(n),ue(r)}}}function ki(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&on(()=>{i.abort(Rt)});var r=n.next;n.f&St?n.parent=null:ie(n,t),n=r}}function hl(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Xe||ie(t),t=n}}function ie(e,t=!0){var n=!1;(t||e.f&Ps)&&e.nodes_start!==null&&e.nodes_end!==null&&(dl(e.nodes_start,e.nodes_end),n=!0),ki(e,t&&!n),Tn(e,0),ee(e,He);var r=e.transitions;if(r!==null)for(const s of r)s.stop();Si(e);var i=e.parent;i!==null&&i.first!==null&&Pi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function dl(e,t){for(;e!==null;){var n=e===t?null:ln(e);e.remove(),e=n}}function Pi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Mt(e,t,n=!0){var r=[];br(e,r,!0),Ai(r,()=>{n&&ie(e),t&&t()})}function Ai(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function br(e,t,n){if(!(e.f&ge)){if(e.f^=ge,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&Ge)!==0||(r.f&Xe)!==0&&(e.f&We)!==0;br(r,t,s?n:!1),r=i}}}function wr(e){Ci(e,!0)}function Ci(e,t){if(e.f&ge){e.f^=ge,e.f&Q||(ee(e,ce),Et(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Ge)!==0||(n.f&Xe)!==0;Ci(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}function Ii(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:ln(n);t.append(n),n=i}}let Lt=!1;function Lr(e){Lt=e}let kt=!1;function Nr(e){kt=e}let I=null,Pe=!1;function ue(e){I=e}let x=null;function Fe(e){x=e}let se=null;function Ri(e){I!==null&&(se===null?se=[e]:se.push(e))}let ne=null,de=0,me=null;function vl(e){me=e}let xi=1,Kt=0,wt=Kt;function Dr(e){wt=e}let it=!1;function Oi(){return++xi}function un(e){var h;var t=e.f;if(t&ce)return!0;if(t&Ke){var n=e.deps,r=(t&Ee)!==0;if(t&te&&(e.f&=~yn),n!==null){var i,s,l=(t&wn)!==0,o=r&&x!==null&&!it,a=n.length;if((l||o)&&(x===null||!(x.f&He))){var u=e,f=u.parent;for(i=0;i<a;i++)s=n[i],(l||!((h=s==null?void 0:s.reactions)!=null&&h.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);l&&(u.f^=wn),o&&f!==null&&!(f.f&Ee)&&(u.f^=Ee)}for(i=0;i<a;i++)if(s=n[i],un(s)&&vi(s),s.wv>e.wv)return!0}(!r||x!==null&&!it)&&ee(e,Q)}return!1}function Mi(e,t,n=!0){var r=e.reactions;if(r!==null&&!(se!=null&&se.includes(e)))for(var i=0;i<r.length;i++){var s=r[i];s.f&te?Mi(s,t,!1):t===s&&(n?ee(s,ce):s.f&Q&&ee(s,Ke),Et(s))}}function Li(e){var p;var t=ne,n=de,r=me,i=I,s=it,l=se,o=B,a=Pe,u=wt,f=e.f;ne=null,de=0,me=null,it=(f&Ee)!==0&&(Pe||!Lt||I===null),I=f&(Xe|St)?null:e,se=null,Ut(e.ctx),Pe=!1,wt=++Kt,e.ac!==null&&(on(()=>{e.ac.abort(Rt)}),e.ac=null);try{e.f|=Yn;var h=e.fn,g=h(),v=e.deps;if(ne!==null){var d;if(Tn(e,de),v!==null&&de>0)for(v.length=de+ne.length,d=0;d<ne.length;d++)v[de+d]=ne[d];else e.deps=v=ne;if(!it||f&te&&e.reactions!==null)for(d=de;d<v.length;d++)((p=v[d]).reactions??(p.reactions=[])).push(e)}else v!==null&&de<v.length&&(Tn(e,de),v.length=de);if(sn()&&me!==null&&!Pe&&v!==null&&!(e.f&(te|Ke|ce)))for(d=0;d<me.length;d++)Mi(me[d],e);return i!==null&&i!==e&&(Kt++,me!==null&&(r===null?r=me:r.push(...me))),e.f&bt&&(e.f^=bt),g}catch(m){return ai(m)}finally{e.f^=Yn,ne=t,de=n,me=r,I=i,it=s,se=l,Ut(o),Pe=a,wt=u}}function _l(e,t){let n=t.reactions;if(n!==null){var r=ws.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&te&&(ne===null||!ne.includes(t))&&(ee(t,Ke),t.f&(Ee|wn)||(t.f^=wn),di(t),Tn(t,0))}function Tn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)_l(e,n[r])}function Jt(e){var t=e.f;if(!(t&He)){ee(e,Q);var n=x,r=Lt;x=e,Lt=!0;try{t&We?hl(e):ki(e),Si(e);var i=Li(e);e.teardown=typeof i=="function"?i:null,e.wv=xi;var s;ei&&os&&e.f&ce&&e.deps}finally{Lt=r,x=n}}}function _(e){var t=e.f,n=(t&te)!==0;if(I!==null&&!Pe){var r=x!==null&&(x.f&He)!==0;if(!r&&!(se!=null&&se.includes(e))){var i=I.deps;if(I.f&Yn)e.rv<Kt&&(e.rv=Kt,ne===null&&i!==null&&i[de]===e?de++:ne===null?ne=[e]:(!it||!ne.includes(e))&&ne.push(e));else{(I.deps??(I.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[I]:s.includes(I)||s.push(I)}}}else if(n&&e.deps===null&&e.effects===null){var l=e,o=l.parent;o!==null&&!(o.f&Ee)&&(l.f^=Ee)}if(kt){if(st.has(e))return st.get(e);if(n){l=e;var a=l.v;return(!(l.f&Q)&&l.reactions!==null||Ni(l))&&(a=pr(l)),st.set(l,a),a}}else if(n){if(l=e,G!=null&&G.has(l))return G.get(l);un(l)&&vi(l)}if(G!=null&&G.has(e))return G.get(e);if(e.f&bt)throw e.v;return e.v}function Ni(e){if(e.v===K)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(st.has(t)||t.f&te&&Ni(t))return!0;return!1}function fn(e){var t=Pe;try{return Pe=!0,e()}finally{Pe=t}}const gl=-7169;function ee(e,t){e.f=e.f&gl|t}const Di=new Set,er=new Set;function Fi(e,t,n,r={}){function i(s){if(r.capture||Gt.call(t,s),!s.cancelBubble)return on(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Bt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Fr(e,t,n,r={}){var i=Fi(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function Yt(e,t,n,r,i){var s={capture:r,passive:i},l=Fi(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&mr(()=>{t.removeEventListener(e,l,s)})}function Un(e){for(var t=0;t<e.length;t++)Di.add(e[t]);for(var n of er)n(e)}let Wr=null;function Gt(e){var m;var t=this,n=t.ownerDocument,r=e.type,i=((m=e.composedPath)==null?void 0:m.call(e))||[],s=i[0]||e.target;Wr=e;var l=0,o=Wr===e&&e.__root;if(o){var a=i.indexOf(o);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;a<=u&&(l=a)}if(s=i[l]||e.target,s!==t){ni(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=I,h=x;ue(null),Fe(null);try{for(var g,v=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];p!=null&&(!s.disabled||e.target===s)&&p.call(s,e)}catch(b){g?v.push(b):g=b}if(e.cancelBubble||d===t||d===null)break;s=d}if(g){for(let b of v)queueMicrotask(()=>{throw b});throw g}}finally{e.__root=t,delete e.currentTarget,ue(f),Fe(h)}}}function pl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Sn(e,t){var n=x;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function V(e,t){var n=(t&ps)!==0,r=(t&ms)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=pl(s?e:"<!>"+e),n||(i=En(i)));var l=r||mi?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=En(l),a=l.lastChild;Sn(o,a)}else Sn(l,l);return l}}function Qe(e=""){{var t=ot(e+"");return Sn(t,t),t}}function Zt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=ot();return e.append(t,n),Sn(t,n),e}function M(e,t){e!==null&&e.before(t)}const ml=["touchstart","touchmove"];function bl(e){return ml.includes(e)}let tr=!0;function yr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function wl(e,t){return yl(e,t)}const At=new Map;function yl(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!0}){rl();var o=new Set,a=h=>{for(var g=0;g<h.length;g++){var v=h[g];if(!o.has(v)){o.add(v);var d=bl(v);t.addEventListener(v,Gt,{passive:d});var p=At.get(v);p===void 0?(document.addEventListener(v,Gt,{passive:d}),At.set(v,1)):At.set(v,p+1)}}};a(cr(Di)),er.add(a);var u=void 0,f=al(()=>{var h=n??t.appendChild(ot());return Vs(h,{pending:()=>{}},g=>{if(s){ut({});var v=B;v.c=s}i&&(r.$$events=i),tr=l,u=e(g,r)||{},tr=!0,s&&ft()}),()=>{var d;for(var g of o){t.removeEventListener(g,Gt);var v=At.get(g);--v===0?(document.removeEventListener(g,Gt),At.delete(g)):At.set(g,v)}er.delete(a),h!==n&&((d=h.parentNode)==null||d.removeChild(h))}});return El.set(u,f),u}let El=new WeakMap;var Se,Me,ve,tn,nn,Mn;class Er{constructor(t,n=!0){le(this,"anchor");R(this,Se,new Map);R(this,Me,new Map);R(this,ve,new Map);R(this,tn,!0);R(this,nn,()=>{var t=q;if(c(this,Se).has(t)){var n=c(this,Se).get(t),r=c(this,Me).get(n);if(r)wr(r);else{var i=c(this,ve).get(n);i&&(c(this,Me).set(n,i.effect),c(this,ve).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of c(this,Se)){if(c(this,Se).delete(s),s===t)break;const o=c(this,ve).get(l);o&&(ie(o.effect),c(this,ve).delete(l))}for(const[s,l]of c(this,Me)){if(s===n)continue;const o=()=>{if(Array.from(c(this,Se).values()).includes(s)){var u=document.createDocumentFragment();Ii(l,u),u.append(ot()),c(this,ve).set(s,{effect:l,fragment:u})}else ie(l);c(this,Me).delete(s)};c(this,tn)||!r?Mt(l,o,!1):o()}}});R(this,Mn,t=>{c(this,Se).delete(t);const n=Array.from(c(this,Se).values());for(const[r,i]of c(this,ve))n.includes(r)||(ie(i.effect),c(this,ve).delete(r))});this.anchor=t,T(this,tn,n)}ensure(t,n){var r=q,i=yi();if(n&&!c(this,Me).has(t)&&!c(this,ve).has(t))if(i){var s=document.createDocumentFragment(),l=ot();s.append(l),c(this,ve).set(t,{effect:ke(()=>n(l)),fragment:s})}else c(this,Me).set(t,ke(()=>n(this.anchor)));if(c(this,Se).set(r,t),i){for(const[o,a]of c(this,Me))o===t?r.skipped_effects.delete(a):r.skipped_effects.add(a);for(const[o,a]of c(this,ve))o===t?r.skipped_effects.delete(a.effect):r.skipped_effects.add(a.effect);r.oncommit(c(this,nn)),r.ondiscard(c(this,Mn))}else c(this,nn).call(this)}}Se=new WeakMap,Me=new WeakMap,ve=new WeakMap,tn=new WeakMap,nn=new WeakMap,Mn=new WeakMap;function nr(e,t,...n){var r=new Er(e);an(()=>{const i=t()??null;r.ensure(i,i&&(s=>i(s,...n)))},Ge)}function Tl(e){B===null&&Rs(),qt&&B.l!==null?Sl(B).m.push(e):Ei(()=>{const t=fn(e);if(typeof t=="function")return t})}function Sl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function yt(e,t,n=!1){var r=new Er(e),i=n?Ge:0;function s(l,o){r.ensure(l,o)}an(()=>{var l=!1;t((o,a=!0)=>{l=!0,s(a,o)}),l||s(!1,null)},i)}function Tr(e,t){return t}function kl(e,t,n){for(var r=e.items,i=[],s=t.length,l=0;l<s;l++)br(t[l].e,i,!0);var o=s>0&&i.length===0&&n!==null;if(o){var a=n.parentNode;il(a),a.append(n),r.clear(),Ie(e,t[0].prev,t[s-1].next)}Ai(i,()=>{for(var u=0;u<s;u++){var f=t[u];o||(r.delete(f.k),Ie(e,f.prev,f.next)),ie(f.e,!o)}})}function kn(e,t,n,r,i,s=null){var l=e,o={flags:t,items:new Map,first:null},a=(t&Qr)!==0;if(a){var u=e;l=u.appendChild(ot())}var f=null,h=!1,g=new Map,v=gr(()=>{var b=n();return ti(b)?b:b==null?[]:cr(b)}),d,p;function m(){Pl(p,d,o,g,l,i,t,r,n),s!==null&&(d.length===0?f?wr(f):f=ke(()=>s(l)):f!==null&&Mt(f,()=>{f=null}))}an(()=>{p??(p=x),d=_(v);var b=d.length;if(!(h&&b===0)){h=b===0;var w,k,S,P;if(yi()){var E=new Set,O=q;for(k=0;k<b;k+=1){S=d[k],P=r(S,k);var U=o.items.get(P)??g.get(P);U?t&(Ln|Nn)&&Wi(U,S,k,t):(w=Ui(null,o,null,null,S,P,k,i,t,n,!0),g.set(P,w)),E.add(P)}for(const[F,j]of o.items)E.has(F)||O.skipped_effects.add(j.e);O.oncommit(m)}else m();_(v)}})}function Pl(e,t,n,r,i,s,l,o,a){var Ce,Ue,$e,cn;var u=(l&us)!==0,f=(l&(Ln|Nn))!==0,h=t.length,g=n.items,v=n.first,d=v,p,m=null,b,w=[],k=[],S,P,E,O;if(u)for(O=0;O<h;O+=1)S=t[O],P=o(S,O),E=g.get(P),E!==void 0&&((Ce=E.a)==null||Ce.measure(),(b??(b=new Set)).add(E));for(O=0;O<h;O+=1){if(S=t[O],P=o(S,O),E=g.get(P),E===void 0){var U=r.get(P);if(U!==void 0){r.delete(P),g.set(P,U);var F=m?m.next:d;Ie(n,m,U),Ie(n,U,F),qn(U,F,i),m=U}else{var j=d?d.e.nodes_start:i;m=Ui(j,n,m,m===null?n.first:m.next,S,P,O,s,l,a)}g.set(P,m),w=[],k=[],d=m.next;continue}if(f&&Wi(E,S,O,l),E.e.f&ge&&(wr(E.e),u&&((Ue=E.a)==null||Ue.unfix(),(b??(b=new Set)).delete(E))),E!==d){if(p!==void 0&&p.has(E)){if(w.length<k.length){var pe=k[0],A;m=pe.prev;var W=w[0],$=w[w.length-1];for(A=0;A<w.length;A+=1)qn(w[A],pe,i);for(A=0;A<k.length;A+=1)p.delete(k[A]);Ie(n,W.prev,$.next),Ie(n,m,W),Ie(n,$,pe),d=pe,m=$,O-=1,w=[],k=[]}else p.delete(E),qn(E,d,i),Ie(n,E.prev,E.next),Ie(n,E,m===null?n.first:m.next),Ie(n,m,E),m=E;continue}for(w=[],k=[];d!==null&&d.k!==P;)d.e.f&ge||(p??(p=new Set)).add(d),k.push(d),d=d.next;if(d===null)continue;E=d}w.push(E),m=E,d=E.next}if(d!==null||p!==void 0){for(var y=p===void 0?[]:cr(p);d!==null;)d.e.f&ge||y.push(d),d=d.next;var N=y.length;if(N>0){var X=l&Qr&&h===0?i:null;if(u){for(O=0;O<N;O+=1)($e=y[O].a)==null||$e.measure();for(O=0;O<N;O+=1)(cn=y[O].a)==null||cn.fix()}kl(n,y,X)}}u&&Bt(()=>{var hn;if(b!==void 0)for(E of b)(hn=E.a)==null||hn.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var Ae of r.values())ie(Ae.e);r.clear()}function Wi(e,t,n,r){r&Ln&&jt(e.v,t),r&Nn?jt(e.i,n):e.i=n}function Ui(e,t,n,r,i,s,l,o,a,u,f){var h=(a&Ln)!==0,g=(a&fs)===0,v=h?g?gi(i,!1,!1):Tt(i):i,d=a&Nn?Tt(l):l,p={i:d,v,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=ot())}return p.e=ke(()=>o(e,v,d,u),qs),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?f||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function qn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var l=ln(s);i.before(s),s=l}}function Ie(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Al(e,t,n){var r=new Er(e);an(()=>{var i=t()??null;r.ensure(i,i&&(s=>n(s,i)))},Ge)}const Ur=[...` 	
\r\f \v\uFEFF`];function Cl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,l=0;(l=r.indexOf(i,l))>=0;){var o=l+s;(l===0||Ur.includes(r[l-1]))&&(o===r.length||Ur.includes(r[o]))?r=(l===0?"":r.substring(0,l))+r.substring(o+1):l=o}}return r===""?null:r}function $r(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function Il(e,t){if(t){var n="",r,i;return Array.isArray(t)?(r=t[0],i=t[1]):r=t,r&&(n+=$r(r)),i&&(n+=$r(i,!0)),n=n.trim(),n===""?null:n}return String(e)}function Qt(e,t,n,r,i,s){var l=e.__className;if(l!==n||l===void 0){var o=Cl(n,r,s);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(s&&i!==s)for(var a in s){var u=!!s[a];(i==null||u!==!!i[a])&&e.classList.toggle(a,u)}return s}function zn(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function Pn(e,t,n,r){var i=e.__style;if(i!==t){var s=Il(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(zn(e,n==null?void 0:n[0],r[0]),zn(e,n==null?void 0:n[1],r[1],"important")):zn(e,n,r));return r}const Rl=Symbol("is custom element"),xl=Symbol("is html");function Ol(e,t){var n=ji(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function $i(e,t,n,r){var i=ji(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Is]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ml(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ji(e){return e.__attributes??(e.__attributes={[Rl]:e.nodeName.includes("-"),[xl]:e.namespaceURI===bs})}var jr=new Map;function Ml(e){var t=e.getAttribute("is")||e.nodeName,n=jr.get(t);if(n)return n;jr.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=ys(i);for(var l in r)r[l].set&&n.push(l);i=ri(i)}return n}const Ll=()=>performance.now(),ze={tick:e=>requestAnimationFrame(e),now:()=>Ll(),tasks:new Set};function qi(){const e=ze.now();ze.tasks.forEach(t=>{t.c(e)||(ze.tasks.delete(t),t.f())}),ze.tasks.size!==0&&ze.tick(qi)}function Nl(e){let t;return ze.tasks.size===0&&ze.tick(qi),{promise:new Promise(n=>{ze.tasks.add(t={c:e,f:n})}),abort(){ze.tasks.delete(t)}}}function vn(e,t){on(()=>{e.dispatchEvent(new CustomEvent(t))})}function Dl(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function qr(e){const t={},n=e.split(";");for(const r of n){const[i,s]=r.split(":");if(!i||s===void 0)break;const l=Dl(i.trim());t[l]=s.trim()}return t}const Fl=e=>e;function rr(e,t,n,r){var i=(e&gs)!==0,s="both",l,o=t.inert,a=t.style.overflow,u,f;function h(){return on(()=>l??(l=n()(t,(r==null?void 0:r())??{},{direction:s})))}var g={is_global:i,in(){t.inert=o,vn(t,"introstart"),u=ir(t,h(),f,1,()=>{vn(t,"introend"),u==null||u.abort(),u=l=void 0,t.style.overflow=a})},out(m){t.inert=!0,vn(t,"outrostart"),f=ir(t,h(),u,0,()=>{vn(t,"outroend"),m==null||m()})},stop:()=>{u==null||u.abort(),f==null||f.abort()}},v=x;if((v.transitions??(v.transitions=[])).push(g),tr){var d=i;if(!d){for(var p=v.parent;p&&p.f&Ge;)for(;(p=p.parent)&&!(p.f&We););d=!p||(p.f&Fn)!==0}d&&ul(()=>{fn(()=>g.in())})}}function ir(e,t,n,r,i){var s=r===1;if(Ss(t)){var l,o=!1;return Bt(()=>{if(!o){var m=t({direction:s?"in":"out"});l=ir(e,m,n,r,i)}}),{abort:()=>{o=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return i(),{abort:ae,deactivate:ae,reset:ae,t:()=>r};const{delay:a=0,css:u,tick:f,easing:h=Fl}=t;var g=[];if(s&&n===void 0&&(f&&f(0,1),u)){var v=qr(u(0,1));g.push(v,v)}var d=()=>1-r,p=e.animate(g,{duration:a,fill:"forwards"});return p.onfinish=()=>{p.cancel();var m=(n==null?void 0:n.t())??1-r;n==null||n.abort();var b=r-m,w=t.duration*Math.abs(b),k=[];if(w>0){var S=!1;if(u)for(var P=Math.ceil(w/16.666666666666668),E=0;E<=P;E+=1){var O=m+b*h(E/P),U=qr(u(O,1-O));k.push(U),S||(S=U.overflow==="hidden")}S&&(e.style.overflow="hidden"),d=()=>{var F=p.currentTime;return m+b*h(F/w)},f&&Nl(()=>{if(p.playState!=="running")return!1;var F=d();return f(F,1-F),!0})}p=e.animate(k,{duration:w,fill:"forwards"}),p.onfinish=()=>{d=()=>r,f==null||f(r,1-r),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=ae)},deactivate:()=>{i=ae},reset:()=>{r===0&&(f==null||f(1,0))},t:()=>d()}}function zi(e,t,n){if(e==null)return t(void 0),ae;const r=fn(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Ct=[];function Wl(e,t=ae){let n=null;const r=new Set;function i(o){if(li(e,o)&&(e=o,n)){const a=!Ct.length;for(const u of r)u[1](),Ct.push(u,e);if(a){for(let u=0;u<Ct.length;u+=2)Ct[u][0](Ct[u+1]);Ct.length=0}}}function s(o){i(o(e))}function l(o,a=ae){const u=[o,a];return r.add(u),r.size===1&&(n=t(i,s)||ae),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:l}}function Ul(e){let t;return zi(e,n=>t=n)(),t}let _n=!1,sr=Symbol();function Bi(e,t,n){const r=n[t]??(n[t]={store:null,source:gi(void 0),unsubscribe:ae});if(r.store!==e&&!(sr in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=ae;else{var i=!0;r.unsubscribe=zi(e,s=>{i?r.source.v=s:C(r.source,s)}),i=!1}return e&&sr in n?Ul(e):_(r.source)}function Hi(){const e={};function t(){mr(()=>{for(var n in e)e[n].unsubscribe();ni(e,sr,{enumerable:!1,value:!0})})}return[e,t]}function $l(e){var t=_n;try{return _n=!1,[e(),_n]}finally{_n=t}}function lt(e,t,n,r){var k;var i=!qt||(n&hs)!==0,s=(n&vs)!==0,l=(n&_s)!==0,o=r,a=!0,u=()=>(a&&(a=!1,o=l?fn(r):r),o),f;if(s){var h=pn in e||Cs in e;f=((k=Ot(e,t))==null?void 0:k.set)??(h&&t in e?S=>e[t]=S:void 0)}var g,v=!1;s?[g,v]=$l(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),f&&(i&&Ds(),f(g)));var d;if(i?d=()=>{var S=e[t];return S===void 0?u():(a=!0,S)}:d=()=>{var S=e[t];return S!==void 0&&(o=void 0),S===void 0?o:S},i&&!(n&ds))return d;if(f){var p=e.$$legacy;return function(S,P){return arguments.length>0?((!i||!P||p||v)&&f(P?d():S),S):d()}}var m=!1,b=(n&cs?Wn:gr)(()=>(m=!1,d()));s&&_(b);var w=x;return function(S,P){if(arguments.length>0){const E=P?_(b):i&&s?re(S):S;return C(b,E),m=!0,o!==void 0&&(o=E),S}return kt&&m||w.f&He?b.v:_(b)}}function An(e,t){if(t)for(const n in t)e=e.replace(`:${n}`,String(t[n]));if(L.name==="#"){const n=new URL(globalThis.location.toString());return n.hash=e,n.search="",n.toString()}return e}function jl(e,t){let n=An(e,t==null?void 0:t.params);return t!=null&&t.search&&(n+=Pr(t.search)),t!=null&&t.hash&&!t.hash.startsWith("#")&&(n+="#"+t.hash),n}function Yi(e){return Promise.all(e.map(t=>ql(t)))}function ql(e){return new Promise(t=>{zl(e)?Promise.resolve(e()).then(n=>{t(n.default)}):t(e)})}function zl(e){return typeof e=="function"&&!!/\(\)\s?=>\s?(import|__vite_ssr_dynamic_import__)\(.*\)/.test(String(e))}function $n(...e){let t="";for(let n of e)n.startsWith("/")||(t+="/"),n.endsWith("/")&&(n=n.slice(0,-1)),t+=n;return t}function Sr(e){return L.name&&e.startsWith(L.name)&&(e=e.slice(L.name.length)||"/"),e}function kr(){const e=L.name==="#"?globalThis.location.hash.slice(1):globalThis.location.pathname,t=L.name==="#"?"":globalThis.location.hash;return{pathname:e,search:globalThis.location.search,state:history.state,hash:t}}function Pr(e){if(!e)return;if(typeof e=="string")return e.startsWith("?")||(e="?"+e),e;const t=Object.fromEntries(Object.entries(e).map(([r,i])=>[r,String(i)]));return Object.keys(t).length===0?void 0:"?"+new URLSearchParams(t).toString()}function Ar(e){if(!e)return{};if(typeof e=="string"){const t=new URLSearchParams(e);return Object.fromEntries([...t.entries()].map(([n,r])=>[n,Bl(r)]))}return e}function Bl(e){if(e==="")return"";if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);return Number.isNaN(t)?e:t}function lr(e,t){const n=L.name&&L.name!=="#"?$n(L.name,e):e;return Gi((r,i)=>r===i,n,t)}lr.startsWith=(e,t)=>{const n=L.name&&L.name!=="#"?$n(L.name,e):e;return Gi((r,i)=>r.startsWith(i),n,t)};function Gi(e,t,n){if(!t.includes(":"))return e(De.pathname,t);if(n)return L.name==="#"?e(De.pathname,new URL(An(t,n)).hash.slice(1)):e(De.pathname,An(t,n));const r=t.split("/").slice(1);let i=De.pathname.split("/").slice(1);if(r.length>i.length)return!1;for(const[s,l]of r.entries()){const o=i[s];if(!l.startsWith(":")&&l!==o)return!1}return!0}function Cr(e,t){e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1));const n=e.split("/").slice(1),r=Hl(Object.keys(t));let i,s=[],l=[],o={},a={},u=!1;e:for(const f of r){const h=f.split("/");h[0]===""&&h.shift();for(let[g,v]of h.entries()){u=v.startsWith("(")&&v.endsWith(")"),u&&(v=v.slice(1,-1));const d=n[g];if(v.startsWith(":"))o[v.slice(1)]=d;else if(v.startsWith("*")){const w=v.slice(1);w&&(o[w]=n.slice(g).join("/")),u?(v=`(${v})`,s=[]):"layout"in t&&t.layout&&s.push(t.layout);const k=(g?"/":"")+h.join("/");i=t[k];break e}else if(v!==(d==null?void 0:d.toLowerCase()))break;if(g!==h.length-1)continue;const p=t["/"+h.join("/")];if(!u&&"layout"in t&&t.layout&&s.push(t.layout),"hooks"in t&&t.hooks&&l.push(t.hooks),"meta"in t&&t.meta&&(a={...a,...t.meta}),typeof p=="function"){if(h.length===n.length){i=p;break e}continue}const m="/"+n.slice(g+1).join("/"),b=Cr(m,p);if(b.match)i=b.match,o={...o,...b.params},l.push(...b.hooks),a={...a,...b.meta},b.breakFromLayouts?s=[]:s.push(...b.layouts);else continue;break e}}return{match:i,layouts:s,hooks:l,params:o,meta:a,breakFromLayouts:u}}function Hl(e){return e.toSorted((t,n)=>zr(t)-zr(n))}function zr(e){return e===""||e==="/"?1:e.includes("*")?4:e.includes(":")?3:2}const Yl=200,Gl=Math.PI/6,Vl=50;async function Vi(e,t,n){const{match:r,layouts:i,hooks:s,meta:l}=Cr(t,e);for(const{onPreload:o}of s)o==null||o({pathname:t,meta:l,...n,search:Ar(n==null?void 0:n.search)});await Yi(r?[...i,r]:i)}const Br=new Set,It=new Set;function Xl(e){function t(l){if(!l.getAttribute("href"))return;const a=new URL(l.href),u=Sr(a.pathname),{replace:f,state:h}=l.dataset;Vi(e,u,{replace:f===""||f==="true",search:a.search,state:h,hash:a.hash})}let n=null;function r(l){if(!l.getPredictedEvents||n)return;if(n=setTimeout(()=>{n=null},Vl),It.size===0){document.removeEventListener("pointermove",r);return}const a=l.getPredictedEvents().at(-1);if(!a)return;const u=l.clientX,f=l.clientY,h=a.clientX-u,g=a.clientY-f,v=Math.hypot(h,g);if(v<2)return;const d=h/v,p=g/v;e:for(const m of It){m.isConnected||It.delete(m);const b=m.getBoundingClientRect(),w=[{x:b.left,y:b.top},{x:b.right,y:b.top},{x:b.left,y:b.bottom},{x:b.right,y:b.bottom},{x:b.left+b.width/2,y:b.top+b.height/2}];for(const k of w){const S=k.x-u,P=k.y-f,E=Math.hypot(S,P);if(E>Yl||E<.001)continue;const O=S/E,U=P/E,F=d*O+p*U;if(Math.acos(Math.max(-1,Math.min(1,F)))<=Gl){t(m),It.delete(m);continue e}}}}const i=new IntersectionObserver(l=>{for(const o of l)o.isIntersecting&&(i.unobserve(o.target),t(o.target))});new MutationObserver(()=>{const l=document.querySelectorAll("a[data-preload]");for(const o of l)if(!Br.has(o)){switch(Br.add(o),o.dataset.preload){case"":case"hover":{o.addEventListener("mouseenter",function a(){o.removeEventListener("mouseenter",a),t(o)});break}case"predict":{It.size===0&&document.addEventListener("pointermove",r),It.add(o);break}case"viewport":{i.observe(o);break}default:{console.warn(`Unknown preload strategy \`${o.dataset.preload}\` on`,o,`
Available strategies are: hover, viewport, predict`);break}}o.addEventListener("focus",function a(){o.removeEventListener("focus",a),t(o)})}}).observe(document.body,{subtree:!0,childList:!0})}class Hr extends Error{constructor(t){super(`Navigating to: ${t}`),this.name="Redirect"}}const Kl=Symbol();var J,rn,qe,mt,Vt;class Jl extends URLSearchParams{constructor(){super(...arguments);R(this,mt);R(this,J,z(0));R(this,rn,Ql());R(this,qe,!1)}[Kl](n){if(!c(this,qe)){T(this,qe,!0);for(const r of[...super.keys()])super.delete(r);for(const[r,i]of n)super.append(r,i);Le(c(this,J)),T(this,qe,!1)}}append(n,r){super.append(n,r),D(this,mt,Vt).call(this),Le(c(this,J))}delete(n,r){var i=super.has(n,r);super.delete(n,r),i&&(D(this,mt,Vt).call(this),Le(c(this,J)))}get(n){return _(c(this,J)),super.get(n)}getAll(n){return _(c(this,J)),super.getAll(n)}has(n,r){return _(c(this,J)),super.has(n,r)}keys(){return _(c(this,J)),super.keys()}set(n,r){var i=super.getAll(n).join("");super.set(n,r),i!==super.getAll(n).join("")&&(D(this,mt,Vt).call(this),Le(c(this,J)))}sort(){super.sort(),D(this,mt,Vt).call(this),Le(c(this,J))}toString(){return _(c(this,J)),super.toString()}values(){return _(c(this,J)),super.values()}entries(){return _(c(this,J)),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return _(c(this,J)),super.size}}J=new WeakMap,rn=new WeakMap,qe=new WeakMap,mt=new WeakSet,Vt=function(){if(!c(this,rn)||c(this,qe))return;T(this,qe,!0);const n=this.toString();c(this,rn).search=n&&`?${n}`,T(this,qe,!1)};let Zl=null;function Ql(){return Zl}let gn=new Jl(globalThis.location.search);function Yr(e){if(gn.toString()===e)return;const t=new URLSearchParams(e);for(const[n,r]of t)gn.set(n,r);for(const n of gn.keys())t.has(n)||gn.delete(n)}let Xt;const L={name:void 0};let or=re({value:[]}),De=re(kr()),ar=re({value:{}}),Xi=re({value:{}}),Bn=0,Gr=0;function eo(e){if(e){const t=new URL(globalThis.location.toString());e==="#"?(L.name="#",globalThis.location.href.includes("#")||(t.hash="/",history.replaceState(history.state||{},"",t.toString()))):(L.name=(e.startsWith("/")?"":"/")+e,t.pathname.startsWith(L.name)||(t.pathname=$n(L.name,t.pathname),history.replaceState(history.state||{},"",t.toString())))}Object.assign(De,kr())}function to(e){return Xt=e,Xl(Xt),{p:jl,navigate:no,isActive:lr,async preload(t){await Vi(Xt,t)},route:{get params(){return ar.value},getParams(t){if(!lr(t))throw new Error(`\`${t}\` does not match the current route`);return ar.value},get pathname(){return Sr(De.pathname)},get search(){return Ar(De.search)},get state(){return De.state},get hash(){return De.hash},get meta(){return Xi.value}}}}function no(e,t={}){return typeof e=="number"?(globalThis.history.go(e),new Hr(`History entry: ${e}`)):(e=An(e,t.params),L.name==="#"?e=new URL(e).hash:t.hash&&!t.hash.startsWith("#")&&(t.hash="#"+t.hash),Cn(e,t),new Hr(`${e}${Pr((t==null?void 0:t.search)??"")}${(t==null?void 0:t.hash)??""}`))}async function Cn(e,t={}){var d;if(!Xt)throw new Error("Router not initialized: `createRouter` was not called.");Bn++;const n=Bn,r=ro(e),{match:i,layouts:s,hooks:l,meta:o,params:a}=Cr(r,Xt),u=Ar(t.search),f={pathname:r,meta:o,...t,search:u};let h=[];for(const p of l)try{const{beforeLoad:m}=p;h.push(p),Gr=n,await(m==null?void 0:m(f))}catch(m){for(const{onError:b}of h)b==null||b(m,f);return}const g=(d=new Error().stack)==null?void 0:d.includes("beforeLoad");let v;try{v=await Yi(i?[...s,i]:s)}catch(p){for(const{onError:m}of l)m==null||m(p,f);throw p}if(!(Bn!==n||g&&Gr+1!==n)){if(e){const p=Pr(t.search),m=new URL(globalThis.location.toString());m.search=p||"",m.hash=t.hash||"",L.name==="#"?m.hash=e:m.pathname=L.name?$n(L.name,e):e;const b=t.replace?"replaceState":"pushState";globalThis.history[b](t.state||{},"",m.toString()),Yr(p)}else Yr(globalThis.location.search);t.viewTransition&&document.startViewTransition!==void 0?document.startViewTransition(()=>{or.value=v}):or.value=v,ar.value=a,Xi.value=o,Object.assign(De,kr()),t.scrollToTop!==!1&&window.scrollTo({top:0,left:0,behavior:t.scrollToTop});for(const{afterLoad:p}of l)p==null||p(f)}}function ro(e){let t;return e?t=e:L.name==="#"?t=globalThis.location.hash.slice(1):t=globalThis.location.pathname,L.name&&t.startsWith(L.name)&&(t=t.slice(L.name.length)||"/"),Sr(t)}function io(e){const t=e.target.closest("a");if(!t||t.hasAttribute("target")||t.hasAttribute("download")||!t.hasAttribute("href"))return;const n=new URL(t.href),r=globalThis.location.origin;if(n.origin!==r)return;const i=L.name==="#"?n.hash:n.pathname,s=L.name==="#"?void 0:n.hash;e.preventDefault();const{replace:l,state:o,scrollToTop:a,viewTransition:u}=t.dataset;Cn(i,{replace:l===""||l==="true",search:n.search,state:o,hash:s,scrollToTop:a==="false"?!1:a,viewTransition:u===""||u==="true"})}function Ki(e,t){ut(t,!0);const n=_e(()=>t.tree[0]),r=_e(()=>t.tree.slice(1));var i=Zt(),s=Ve(i);Al(s,()=>_(n),(l,o)=>{o(l,{children:(a,u)=>{var f=Zt(),h=Ve(f);{var g=v=>{Ki(v,{get tree(){return _(r)}})};yt(h,v=>{_(r).length>0&&v(g)})}M(a,f)},$$slots:{default:!0}})}),M(e,i),ft()}function so(e,t){ut(t,!0),eo(t.base),Cn(),Ei(()=>{const n=Fr(globalThis,"popstate",()=>Cn()),r=Fr(globalThis,"click",io);return()=>{n(),r()}}),Ki(e,{get tree(){return or.value}}),ft()}var lo=V('<div class="svelte-raay5y"><!></div>');function Ji(e,t){var n=lo(),r=fe(n);nr(r,()=>t.children??ae),M(e,n)}var oo=V('<a class="button" role="button"><!></a>'),ao=V("<button><!></button>");function et(e,t){let n=lt(t,"href",3,null),r=lt(t,"disabled",3,!1),i=lt(t,"spin",3,!1);var s=Zt(),l=Ve(s);{var o=u=>{var f=oo(),h=fe(f);nr(h,()=>t.children??ae),at(()=>$i(f,"href",n())),M(u,f)},a=u=>{var f=ao();let h;f.__click=function(...d){var p;(p=t.onclick)==null||p.apply(this,d)};var g=fe(f);{var v=d=>{var p=Zt(),m=Ve(p);nr(m,()=>t.children??ae),M(d,p)};yt(g,d=>{i()||d(v)})}at(()=>{h=Qt(f,1,"button",null,h,{spinning:i()}),f.disabled=r()}),M(u,f)};yt(l,u=>{n()?u(o):u(a,!1)})}M(e,s)}Un(["click"]);const uo=e=>e;function fo(e){const t=e-1;return t*t*t+1}function Vr(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function co(e,{delay:t=0,duration:n=400,easing:r=uo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function Xr(e,{delay:t=0,duration:n=400,easing:r=fo,x:i=0,y:s=0,opacity:l=0}={}){const o=getComputedStyle(e),a=+o.opacity,u=o.transform==="none"?"":o.transform,f=a*(1-l),[h,g]=Vr(i),[v,d]=Vr(s);return{delay:t,duration:n,easing:r,css:(p,m)=>`
			transform: ${u} translate(${(1-p)*h}${g}, ${(1-p)*v}${d});
			opacity: ${a-f*m}`}}function Kr(e){return e}var ho=V('<div class="waterblock svelte-lrfuv2"></div>'),vo=V('<div class="waterblock svelte-lrfuv2"></div>'),_o=V('<div class="tube-slot"><div draggable="true"><div class="plug svelte-lrfuv2"></div> <!></div> <h4 class="svelte-lrfuv2"> </h4></div>');function go(e,t){ut(t,!0);let n=lt(t,"selected",3,!1),r=lt(t,"highlight",3,!1),i=z(!1);const s=w=>{t.onclick({tubeId:t.tube.id,level:w})},l="game/tube",o=w=>{var k;w.dataTransfer.setData(l,t.tube.id.toString()),(k=t.ondrag)==null||k.call(t,{tubeId:t.tube.id})},a=w=>{var P;C(i,!1);const k=+w.dataTransfer.getData(l),S=t.tube.id;(P=t.ondrop)==null||P.call(t,{sourceTubeId:k,targetTubeId:S}),w.preventDefault()},u=w=>{w.dataTransfer.types.includes(l)&&(w.preventDefault(),t.selectable&&C(i,!0))},f=w=>{w.dataTransfer.types.includes(l)&&w.preventDefault()},h=w=>{w.dataTransfer.types.includes(l)&&(C(i,!1),w.preventDefault())};var g=_o(),v=fe(g);let d;var p=H(fe(v),2);kn(p,16,()=>({length:4}),Tr,(w,k,S)=>{var P=Zt(),E=Ve(P);{var O=F=>{var j=ho();j.__click=()=>s(S);let pe;at(()=>pe=Pn(j,"",pe,{"background-color":`var(--clr-wtr${t.tube.levels[S]??""})`})),rr(3,j,()=>Xr,()=>({y:-200,duration:200,easing:Kr})),M(F,j)},U=F=>{var j=vo();j.__click=()=>s(S),Pn(j,"",{},{"background-color":"var(--clr-none)"}),rr(3,j,()=>Xr,()=>({y:-200,duration:200,easing:Kr})),M(F,j)};yt(E,F=>{S<=t.tube.levels.length?F(O):F(U,!1)})}M(w,P)});var m=H(v,2),b=fe(m);at(()=>{d=Qt(v,1,"tube svelte-lrfuv2",null,d,{selected:n(),highlight:r(),dropping:_(i),unplugged:!t.tube.done}),$i(v,"data-selectable",t.selectable),yr(b,t.tube.name)}),Yt("dragstart",v,o),Yt("dragenter",v,u),Yt("dragover",v,f),Yt("dragleave",v,h),Yt("drop",v,a),M(e,g),ft()}Un(["click"]);function po(e){if(e.length<=6)return[e];const t=e.length<=14?2:3,n=Math.floor(e.length/t),r=[];for(let i=0,s=0;i<e.length;s++,i+=n){const l=s<e.length%t?1:0;r.push(e.slice(i,i+n+l)),i+=l}return r}var mo=V('<div class="tubes-row svelte-vef59e"></div>'),bo=V('<div class="tubes-container"></div>');function Zi(e,t){ut(t,!0);let n=lt(t,"selectedId",3,null),r=lt(t,"highlightId",3,null),i=_e(()=>po(t.tubes));var s=bo();kn(s,21,()=>_(i),Tr,(l,o)=>{var a=mo();kn(a,21,()=>_(o),u=>u.id,(u,f)=>{{let h=_e(()=>n()===_(f).id),g=_e(()=>r()===_(f).id);go(u,{get tube(){return _(f)},get selected(){return _(h)},get selectable(){return t.enabled[_(f).id]},get highlight(){return _(g)},get onclick(){return t.onclick},get ondrag(){return t.ondrag},get ondrop(){return t.ondrop}})}}),M(l,a)}),M(e,s),ft()}var wo=V("<div><h2> </h2></div>");function yo(e,t){let n=_e(()=>t.result?"win":"lose"),r=_e(()=>t.result?"🏅 You Win 🏅":"You lose 😞");var i=wo(),s=fe(i),l=fe(s);at(()=>{Qt(i,1,`modal ${_(n)??""}`,"svelte-1mjwqcy"),yr(l,_(r))}),rr(3,i,()=>co,()=>({delay:100})),M(e,i)}var Eo=V('<h2 class="focus-anchor svelte-nsw2x9"></h2>');function Qi(e){var t=Eo();M(e,t)}function To(e,t){if(e.empty)throw Error(`source-empty ${e.name}`);if(e.done)throw Error(`source-closed ${e.name}`);if(t.full)throw Error(`target-full ${e.name}`);const n=e.topColor;if(!t.empty&&n!==t.topColor)throw Error("invalid-color");const r=Math.min(e.topAmount,t.emptySpace),i=e.levels.slice(0,-r),s=Array(r).fill(n),l=[...t.levels,...s];return[new Ye(e.id,i),new Ye(t.id,l)]}class Ye{constructor(t,n=[]){this.id=t,this.levels=n}get name(){return String.fromCharCode(65+this.id)}get empty(){return this.levels.length===0}get full(){return this.levels.length>=4}get emptySpace(){return 4-this.levels.length}get done(){return this.levels.length===4&&this.levels[0]===this.levels[1]&&this.levels[1]===this.levels[2]&&this.levels[2]==this.levels[3]&&this.levels[3]>0}get topColor(){return this.levels.length?this.levels[this.levels.length-1]:null}get topAmount(){if(this.levels.length<=1)return this.levels.length;const t=this.topColor;let n=1;for(;n<this.levels.length;){if(this.levels[this.levels.length-1-n]!=t)return n;n+=1}return this.levels.length}get singleColor(){return this.topAmount===this.levels.length}accepts(t){return this.empty?4:this.full?0:this.topColor===t?this.emptySpace:0}add(t){if(this.full)throw Error(`tube-full ${this.name}`);return new Ye(this.id,[...this.levels,t])}}const es=19;class Jr{constructor(t,n){le(this,"cumulative");le(this,"tot");this.items=t,this.cumulative=[],this.tot=0;for(let r=0;r<t.length;r++)this.tot+=n[r],this.cumulative.push(this.tot)}randomItem(){const t=Math.random()*this.tot;for(let n=0;n<this.items.length;n++)if(this.cumulative[n]>t)return this.items[n];return this.items[this.items.length-1]}}function So(e){let t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!r.done&&!r.empty)for(let i=0;i<e.length;i++){const s=e[i];n!==i&&s.accepts(r.topColor)&&t.push({from:r.id,to:s.id})}}return t}function ko(e){return e.map(t=>t.done||t.empty).reduce((t,n)=>t&&n,!0)}var ur=(e=>(e[e.Playing=0]="Playing",e[e.Won=1]="Won",e[e.Lost=2]="Lost",e))(ur||{});class Ne{constructor(t=[]){le(this,"status");le(this,"tubes");this.tubes=[];for(const[n,r]of t.entries())r instanceof Ye?this.tubes.push(r):this.tubes.push(new Ye(n,r));this.status=0,ko(this.tubes)?this.status=1:this.possibleActions().length===0&&(this.status=2)}possibleActions(){return So(this.tubes)}get won(){return this.status===1}get lost(){return this.status===2}get ended(){return this.status!==0}get numClosed(){return this.tubes.filter(t=>t.done).length}historyEntry({from:t,to:n}){if(this.tubes[t].topColor!==this.tubes[n].topColor&&!this.tubes[n].empty)throw new Error("invalid-color");const r=this.tubes[t].topColor;return{fromIndex:t,toIndex:n,fromId:this.tubes[t].name,toId:this.tubes[n].name,color:r,amount:Math.min(this.tubes[t].topAmount,this.tubes[n].accepts(r))}}applyMove({from:t,to:n}){const[r,i]=To(this.tubes[t],this.tubes[n]),s=[...this.tubes];return s[t]=r,s[n]=i,new Ne(s)}add(t,n){const r=[...this.tubes];return r[n]=this.tubes[n].add(t),new Ne(r)}getHash(){return this.tubes.map(t=>t.levels.concat(t.full?[]:[0])).flat().map(t=>t.toString(36)).join("")}}function Hn(e){return e[Math.floor(Math.random()*e.length)]}function Po(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}function Ao(e){const t=Array(es).fill(null).map((n,r)=>r+1);return Po(t),t.slice(0,e)}function ts(e=0){e==0&&(e=10+Math.floor(Math.random()*6));const t=Ao(e-2),n=new Array(e-2).fill(null).map((s,l)=>new Array(4).fill(t[l])).concat([[],[]]),r=new Ne(n);for(let s=0;s<70;s++){const l=new Jr(r.tubes,r.tubes.map(g=>g.topAmount)).randomItem(),o=r.tubes.filter(g=>!g.full&&g.id!==l.id),a=Hn(o),u=Math.min(l.singleColor?l.topAmount-1:l.topAmount,a.emptySpace),f=new Jr([1,2,3].splice(0,u),[1,3,9].splice(u)).randomItem(),h=l.levels.splice(-f);a.levels.push(...h)}let i=r.tubes.filter(s=>s.empty).length;for(let s=0;s<100&&i<2;s++){const l=r.tubes.filter(u=>!u.empty),o=Hn(l),a=r.tubes.filter(u=>!u.full&&u.levels.length>o.levels.length);if(a.length>0){const u=Hn(a),f=o.levels.splice(-1);u.levels.push(...f)}i=r.tubes.filter(u=>u.empty).length}return new Ne(r.tubes)}const In=Wl(ts());function Co(e){return new Worker("/colortubes/assets/solve-worker-DmMwOTxD.js",{name:e==null?void 0:e.name})}var Io=V("<!> <!> <!> <!> <!>",1),Ro=V('<!> <!> <div class="cols-2 svelte-nzwu8m"><!></div> <!>',1);function xo(e,t){ut(t,!0);const n=()=>Bi(In,"$currentGame",r),[r,i]=Hi();let s=z(null),l=z(!1),o=z(re(n())),a=z(null),u=[],f=z(re([])),h=z(re([])),g=z(null);Tl(async()=>{console.log("initializing web worker"),C(s,new Co,!0),_(s).onmessage=function(y){y.data.result===ur.Won&&(C(h,y.data.actions,!0),console.debug(_(h))),C(l,!1)}});function v(){console.debug("generating new game"),In.set(ts()),d()}function d(){C(o,n(),!0),C(a,null),C(g,null),u=[],C(h,[],!0),S()}function p(){_(s).postMessage(_(o)),C(l,!0)}function m(y){return _(a)===y?!0:!(_(o).tubes[y].done||_(a)===null&&_(o).tubes[y].empty||_(a)!==null&&_(o).tubes[y].full)}function b(y){console.log(`clicked ${JSON.stringify(y)}`);const N=y.tubeId;m(N)&&(_(a)===null?w(N):_(a)===N?(console.debug(`deselecting tube ${_(a)}`),C(a,null)):(P(_(a),N),E(N),C(a,null),C(g,null)),S())}function w(y){C(a,y,!0),console.debug(`selecting tube ${_(a)}`)}function k(y){const{sourceTubeId:N,targetTubeId:X}=y;m(X)&&(_(a)===X?(console.debug(`deselecting tube ${_(a)}`),C(a,null)):(P(N,X),E(X),C(a,null)),S())}function S(){C(f,_(o).tubes.map(y=>m(y.id)),!0)}function P(y,N){try{const X=_(o).historyEntry({from:y,to:N});C(o,_(o).applyMove({from:y,to:N}),!0),console.info(`applied move ${JSON.stringify(X)}`),u=[...u,X]}catch(X){console.warn(X.message)}}function E(y){if(_(h).length>0){const N=_(h)[0];y===N.toIndex&&_(a)===N.fromIndex?C(h,_(h).slice(1),!0):C(h,[],!0)}}function O(){_(h).length>0&&(C(a,_(h)[0].fromIndex,!0),C(g,_(h)[0].toIndex,!0))}var U=Ro(),F=Ve(U);Qi(F);var j=H(F,2);Ji(j,{children:(y,N)=>{var X=Io(),Ae=Ve(X);et(Ae,{onclick:v,children:(he,ct)=>{var Pt=Qe("New");M(he,Pt)},$$slots:{default:!0}});var Ce=H(Ae,2);{let he=_e(()=>ns("/edit"));et(Ce,{get href(){return _(he)},children:(ct,Pt)=>{var Ht=Qe("Custom");M(ct,Ht)},$$slots:{default:!0}})}var Ue=H(Ce,2);et(Ue,{onclick:d,children:(he,ct)=>{var Pt=Qe("Reset");M(he,Pt)},$$slots:{default:!0}});var $e=H(Ue,2);{var cn=he=>{et(he,{onclick:p,get spin(){return _(l)},children:(ct,Pt)=>{var Ht=Qe("Solve");M(ct,Ht)},$$slots:{default:!0}})};yt($e,he=>{_(s)&&_(h).length==0&&he(cn)})}var hn=H($e,2);{var rs=he=>{et(he,{onclick:O,children:(ct,Pt)=>{var Ht=Qe("💡");M(ct,Ht)},$$slots:{default:!0}})};yt(hn,he=>{_(h).length>0&&he(rs)})}M(y,X)}});var pe=H(j,2),A=fe(pe);Zi(A,{get tubes(){return _(o).tubes},get selectedId(){return _(a)},get highlightId(){return _(g)},get enabled(){return _(f)},onclick:b,ondrag:y=>w(y.tubeId),ondrop:k});var W=H(pe,2);{var $=y=>{{let N=_e(()=>_(o).status==ur.Won);yo(y,{get result(){return _(N)}})}};yt(W,y=>{_(o).ended&&y($)})}M(e,U),ft(),i()}var Oo=V("<button> </button>"),Mo=V('<div class="palette svelte-181phd1"><!> <button aria-label="No Color"></button></div>');function Lo(e,t){ut(t,!0);let n=lt(t,"counts",19,()=>({}));const r=Array(es).fill(null).map((f,h)=>h+1);let i=z(null);function s(f){C(i,f,!0),t.onColorPick(f)}var l=Mo(),o=fe(l);kn(o,17,()=>r,Tr,(f,h)=>{var g=Oo();g.__click=()=>s(_(h));let v,d;var p=fe(g);at(()=>{v=Qt(g,1,"cell svelte-181phd1",null,v,{curr:_(h)===_(i),extra:n()[_(h)]>4}),d=Pn(g,"",d,{"--color":`var(--clr-wtr${(_(h)>=0?_(h):"-none")??""})`}),yr(p,n()[_(h)]||"")}),M(f,g)});var a=H(o,2);a.__click=()=>s(null);let u;Pn(a,"",{},{"--color":"var(--clr-wtr-none)"}),at(()=>u=Qt(a,1,"cell empty svelte-181phd1",null,u,{curr:_(i)===null})),M(e,l),ft()}Un(["click"]);var No=V("<!> <!> <!>",1),Do=V('<!> <!> <div><label for="num_tubes">Num. Tubes</label> <input type="number" name="num_tubes" min="5" max="20" class="svelte-uv9vkz"/></div> <!> <!>',1);function Fo(e,t){ut(t,!0);const n=()=>Bi(In,"$currentGame",r),[r,i]=Hi();let s=z(re(n())),l=z(re([])),o=null,a=_e(()=>w(_(s).tubes)),u=_e(()=>k(_(a)));function f(A,W=0){return Array(A).fill(null).map(($,y)=>new Ye(W+y,[0,0,0,0]))}function h(A){const $=+A.target.value;if($<_(s).tubes.length&&C(s,new Ne(_(s).tubes.slice(0,$)),!0),$>_(s).tubes.length){const y=$-_(s).tubes.length;C(s,new Ne([..._(s).tubes,...f(y,_(s).tubes.length)]),!0)}C(l,_(s).tubes.map(y=>!0),!0)}function g(){C(s,new Ne(f(_(s).tubes.length)),!0)}function v(A){return A.map(W=>{const $=W.levels.indexOf(0);return $>=0?new Ye(W.id,W.levels.slice(0,$)):W})}function d(A){console.debug(`picked color ${A}`),o=A}function p(A){return A.length<4?A.concat(new Array(4-A.length).fill(0)):A}function m(A,W){console.debug(`apply color ${o} to tube ${A} level ${W}`);const $=_(s).tubes[A],y=p([...$.levels]);y[W]=o||0;const N=[..._(s).tubes];N[A]=new Ye($.id,y),C(s,new Ne(N),!0)}function b(A){m(A.tubeId,A.level)}function w(A){const W={};for(const $ of A)for(const y of $.levels)y&&(W[y]=++W[y]||1);return W}function k(A){const W=new Set(Object.values(A));return W.size===1&&W.has(4)}function S(){if(_(u)){const A=new Ne(v(_(s).tubes));In.set(A),Wo("/")}}var P=Do(),E=Ve(P);Qi(E);var O=H(E,2);Ji(O,{children:(A,W)=>{var $=No(),y=Ve($);et(y,{onclick:g,children:(Ae,Ce)=>{var Ue=Qe("Reset");M(Ae,Ue)},$$slots:{default:!0}});var N=H(y,2);{let Ae=_e(()=>ns("/"));et(N,{get href(){return _(Ae)},children:(Ce,Ue)=>{var $e=Qe("Discard");M(Ce,$e)},$$slots:{default:!0}})}var X=H(N,2);{let Ae=_e(()=>!_(u));et(X,{onclick:S,get disabled(){return _(Ae)},children:(Ce,Ue)=>{var $e=Qe("Play");M(Ce,$e)},$$slots:{default:!0}})}M(A,$)}});var U=H(O,2),F=H(fe(U),2);F.__change=h;var j=H(U,2);Lo(j,{onColorPick:d,get counts(){return _(a)}});var pe=H(j,2);Zi(pe,{get tubes(){return _(s).tubes},get enabled(){return _(l)},onclick:b}),at(()=>Ol(F,_(s).tubes.length)),M(e,P),ft(),i()}Un(["change"]);const{p:ns,navigate:Wo}=to({"/":xo,"/edit":Fo});var Uo=V('<div class="root-container svelte-1n46o8q"><header class="svelte-1n46o8q"><h1 class="svelte-1n46o8q">Color Water Tubes</h1></header> <main><!></main></div>');function $o(e){var t=Uo(),n=H(fe(t),2),r=fe(n);so(r,{base:"#"}),M(e,t)}wl($o,{target:document.getElementById("app")});
