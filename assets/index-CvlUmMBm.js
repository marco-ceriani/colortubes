var ei=Object.defineProperty;var Cr=e=>{throw TypeError(e)};var ti=(e,t,n)=>t in e?ei(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ie=(e,t,n)=>ti(e,typeof t!="symbol"?t+"":t,n),Wn=(e,t,n)=>t.has(e)||Cr("Cannot "+n);var f=(e,t,n)=>(Wn(e,t,"read from private field"),n?n.call(e):t.get(e)),I=(e,t,n)=>t.has(e)?Cr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),T=(e,t,n,r)=>(Wn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),W=(e,t,n)=>(Wn(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const ni="5";var Vr;typeof window<"u"&&((Vr=window.__svelte??(window.__svelte={})).v??(Vr.v=new Set)).add(ni);let Bt=!1,ri=!1;function si(){Bt=!0}si();const xn=1,On=2,Xr=4,ii=8,li=16,oi=1,ui=2,ai=4,fi=8,ci=16,hi=1,di=2,H=Symbol(),vi="http://www.w3.org/1999/xhtml",Kr=!1;var Jr=Array.isArray,_i=Array.prototype.indexOf,or=Array.from,Zr=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,Qr=Object.getOwnPropertyDescriptors,pi=Object.prototype,gi=Array.prototype,ur=Object.getPrototypeOf,Ir=Object.isExtensible;const je=()=>{};function mi(e){return e()}function $n(e){for(var t=0;t<e.length;t++)e[t]()}function es(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const K=2,ts=4,Ln=8,Be=16,qe=32,yt=64,Nn=128,V=1024,fe=2048,He=4096,de=8192,ze=16384,ar=32768,it=65536,Rr=1<<17,bi=1<<18,qt=1<<19,ns=1<<20,be=256,gn=512,mn=32768,Bn=1<<21,fr=1<<22,gt=1<<23,Mt=Symbol("$state"),wi=Symbol("legacy props"),yi=Symbol(""),Ct=new class extends Error{constructor(){super(...arguments);ie(this,"name","StaleReactionError");ie(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Ei(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ti(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Si(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ki(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Pi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ai(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ci(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ii(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ri(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Mi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function xi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Oi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Li=!1;function rs(e){return e===this.v}function ss(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function is(e){return!ss(e,this.v)}let U=null;function Ut(e){U=e}function Ye(e,t=!1,n){U={p:U,i:!1,c:null,e:null,s:e,x:null,l:Bt&&!t?{s:null,u:null,$:[]}:null}}function Ge(e){var t=U,n=t.e;if(n!==null){t.e=null;for(var r of n)ys(r)}return t.i=!0,U=t.p,{}}function nn(){return!Bt||U!==null&&U.l===null}let It=[];function Ni(){var e=It;It=[],$n(e)}function rn(e){if(It.length===0){var t=It;queueMicrotask(()=>{t===It&&Ni()})}It.push(e)}function ls(e){var t=R;if(t===null)return A.f|=gt,e;if(t.f&ar)jt(e,t);else{if(!(t.f&Nn))throw e;t.b.error(e)}}function jt(e,t){for(;t!==null;){if(t.f&Nn)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const hn=new Set;let j=null,q=null,qn=new Set,Je=[],cr=null,Hn=!1;var Nt,Dt,ct,ht,Zt,Wt,Ft,G,Yn,ut,os,us;const Cn=class Cn{constructor(){I(this,G);ie(this,"committed",!1);ie(this,"current",new Map);ie(this,"previous",new Map);I(this,Nt,new Set);I(this,Dt,new Set);I(this,ct,0);I(this,ht,0);I(this,Zt,null);I(this,Wt,[]);I(this,Ft,[]);ie(this,"skipped_effects",new Set);ie(this,"is_fork",!1)}process(t){Je=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)W(this,G,Yn).call(this,r,n);this.is_fork||W(this,G,os).call(this),f(this,ht)>0||this.is_fork?(W(this,G,ut).call(this,n.effects),W(this,G,ut).call(this,n.render_effects),W(this,G,ut).call(this,n.block_effects)):(j=null,Mr(n.render_effects),Mr(n.effects)),q=null}capture(t,n){this.previous.has(t)||this.previous.set(t,n),this.current.set(t,t.v),q==null||q.set(t,t.v)}activate(){j=this}deactivate(){j=null,q=null}flush(){if(this.activate(),Je.length>0){if(Di(),j!==null&&j!==this)return}else f(this,ct)===0&&this.process([]);this.deactivate();for(const t of qn)if(qn.delete(t),t(),j!==null)break}discard(){for(const t of f(this,Dt))t(this);f(this,Dt).clear()}increment(t){T(this,ct,f(this,ct)+1),t&&T(this,ht,f(this,ht)+1)}decrement(t){T(this,ct,f(this,ct)-1),t&&T(this,ht,f(this,ht)-1),this.revive()}revive(){for(const t of f(this,Wt))X(t,fe),bt(t);for(const t of f(this,Ft))X(t,He),bt(t);T(this,Wt,[]),T(this,Ft,[]),this.flush()}oncommit(t){f(this,Nt).add(t)}ondiscard(t){f(this,Dt).add(t)}settled(){return(f(this,Zt)??T(this,Zt,es())).promise}static ensure(){if(j===null){const t=j=new Cn;hn.add(j),Cn.enqueue(()=>{j===t&&t.flush()})}return j}static enqueue(t){rn(t)}apply(){}};Nt=new WeakMap,Dt=new WeakMap,ct=new WeakMap,ht=new WeakMap,Zt=new WeakMap,Wt=new WeakMap,Ft=new WeakMap,G=new WeakSet,Yn=function(t,n){var c;t.f^=V;for(var r=t.first;r!==null;){var s=r.f,i=(s&(qe|yt))!==0,l=i&&(s&V)!==0,o=l||(s&de)!==0||this.skipped_effects.has(r);if(r.f&Nn&&((c=r.b)!=null&&c.is_pending())&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!o&&r.fn!==null){i?r.f^=V:s&ts?n.effects.push(r):un(r)&&(r.f&Be&&n.block_effects.push(r),Jt(r));var u=r.first;if(u!==null){r=u;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)a===n.effect&&(W(this,G,ut).call(this,n.effects),W(this,G,ut).call(this,n.render_effects),W(this,G,ut).call(this,n.block_effects),n=n.parent),r=a.next,a=a.parent}},ut=function(t){for(const n of t)(n.f&fe?f(this,Wt):f(this,Ft)).push(n),X(n,V)},os=function(){if(f(this,ht)===0){for(const t of f(this,Nt))t();f(this,Nt).clear()}f(this,ct)===0&&W(this,G,us).call(this)},us=function(){var s,i;if(hn.size>1){this.previous.clear();var t=q,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const l of hn){if(l===this){n=!1;continue}const o=[];for(const[a,c]of this.current){if(l.current.has(a))if(n&&c!==l.current.get(a))l.current.set(a,c);else continue;o.push(a)}if(o.length===0)continue;const u=[...l.current.keys()].filter(a=>!this.current.has(a));if(u.length>0){const a=new Set,c=new Map;for(const h of o)as(h,u,a,c);if(Je.length>0){j=l,l.apply();for(const h of Je)W(s=l,G,Yn).call(s,h,r);Je=[],l.deactivate()}}}j=null,q=t}this.committed=!0,hn.delete(this),(i=f(this,Zt))==null||i.resolve()};let Ue=Cn;function Di(){var e=Ot;Hn=!0;try{var t=0;for(Or(!0);Je.length>0;){var n=Ue.ensure();if(t++>1e3){var r,s;Wi()}n.process(Je),rt.clear()}}finally{Hn=!1,Or(e),cr=null}}function Wi(){try{Ai()}catch(e){jt(e,cr)}}let ye=null;function Mr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(ze|de))&&un(r)&&(ye=new Set,Jt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ss(r):r.fn=null),(ye==null?void 0:ye.size)>0)){rt.clear();for(const s of ye){if(s.f&(ze|de))continue;const i=[s];let l=s.parent;for(;l!==null;)ye.has(l)&&(ye.delete(l),i.push(l)),l=l.parent;for(let o=i.length-1;o>=0;o--){const u=i[o];u.f&(ze|de)||Jt(u)}}ye.clear()}}ye=null}}function as(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;i&K?as(s,t,n,r):i&(fr|Be)&&!(i&fe)&&fs(s,t,r)&&(X(s,fe),bt(s))}}function fs(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(t.includes(s))return!0;if(s.f&K&&fs(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function bt(e){for(var t=cr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Hn&&t===R&&n&Be)return;if(n&(yt|qe)){if(!(n&V))return;t.f^=V}}Je.push(t)}function Fi(e){let t=0,n=wt(0),r;return()=>{Zi()&&(d(n),nl(()=>(t===0&&(r=an(()=>e(()=>xe(n)))),t+=1,()=>{rn(()=>{t-=1,t===0&&(r==null||r(),r=void 0,xe(n))})})))}}var Ui=it|qt|Nn;function ji(e,t,n){new zi(e,t,n)}var pe,ge,lr,Ce,dt,Ie,me,le,Re,We,Ze,vt,Qe,_t,et,In,Rn,B,$i,Bi,Gn,_n,pn,Vn;class zi{constructor(t,n,r){I(this,B);ie(this,"parent");I(this,pe,!1);I(this,ge);I(this,lr,null);I(this,Ce);I(this,dt);I(this,Ie);I(this,me,null);I(this,le,null);I(this,Re,null);I(this,We,null);I(this,Ze,null);I(this,vt,0);I(this,Qe,0);I(this,_t,!1);I(this,et,null);I(this,In,()=>{f(this,et)&&zt(f(this,et),f(this,vt))});I(this,Rn,Fi(()=>(T(this,et,wt(f(this,vt))),()=>{T(this,et,null)})));T(this,ge,t),T(this,Ce,n),T(this,dt,r),this.parent=R.b,T(this,pe,!!f(this,Ce).pending),T(this,Ie,on(()=>{R.b=this;{var s=W(this,B,Gn).call(this);try{T(this,me,Te(()=>r(s)))}catch(i){this.error(i)}f(this,Qe)>0?W(this,B,pn).call(this):T(this,pe,!1)}return()=>{var i;(i=f(this,Ze))==null||i.remove()}},Ui))}is_pending(){return f(this,pe)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!f(this,Ce).pending}update_pending_count(t){W(this,B,Vn).call(this,t),T(this,vt,f(this,vt)+t),qn.add(f(this,In))}get_effect_pending(){return f(this,Rn).call(this),d(f(this,et))}error(t){var n=f(this,Ce).onerror;let r=f(this,Ce).failed;if(f(this,_t)||!n&&!r)throw t;f(this,me)&&(te(f(this,me)),T(this,me,null)),f(this,le)&&(te(f(this,le)),T(this,le,null)),f(this,Re)&&(te(f(this,Re)),T(this,Re,null));var s=!1,i=!1;const l=()=>{if(s){Oi();return}s=!0,i&&xi(),Ue.ensure(),T(this,vt,0),f(this,Re)!==null&&xt(f(this,Re),()=>{T(this,Re,null)}),T(this,pe,this.has_pending_snippet()),T(this,me,W(this,B,_n).call(this,()=>(T(this,_t,!1),Te(()=>f(this,dt).call(this,f(this,ge)))))),f(this,Qe)>0?W(this,B,pn).call(this):T(this,pe,!1)};var o=A;try{ue(null),i=!0,n==null||n(t,l),i=!1}catch(u){jt(u,f(this,Ie)&&f(this,Ie).parent)}finally{ue(o)}r&&rn(()=>{T(this,Re,W(this,B,_n).call(this,()=>{Ue.ensure(),T(this,_t,!0);try{return Te(()=>{r(f(this,ge),()=>t,()=>l)})}catch(u){return jt(u,f(this,Ie).parent),null}finally{T(this,_t,!1)}}))})}}pe=new WeakMap,ge=new WeakMap,lr=new WeakMap,Ce=new WeakMap,dt=new WeakMap,Ie=new WeakMap,me=new WeakMap,le=new WeakMap,Re=new WeakMap,We=new WeakMap,Ze=new WeakMap,vt=new WeakMap,Qe=new WeakMap,_t=new WeakMap,et=new WeakMap,In=new WeakMap,Rn=new WeakMap,B=new WeakSet,$i=function(){try{T(this,me,Te(()=>f(this,dt).call(this,f(this,ge))))}catch(t){this.error(t)}T(this,pe,!1)},Bi=function(){const t=f(this,Ce).pending;t&&(T(this,le,Te(()=>t(f(this,ge)))),Ue.enqueue(()=>{var n=W(this,B,Gn).call(this);T(this,me,W(this,B,_n).call(this,()=>(Ue.ensure(),Te(()=>f(this,dt).call(this,n))))),f(this,Qe)>0?W(this,B,pn).call(this):(xt(f(this,le),()=>{T(this,le,null)}),T(this,pe,!1))}))},Gn=function(){var t=f(this,ge);return f(this,pe)&&(T(this,Ze,lt()),f(this,ge).before(f(this,Ze)),t=f(this,Ze)),t},_n=function(t){var n=R,r=A,s=U;Le(f(this,Ie)),ue(f(this,Ie)),Ut(f(this,Ie).ctx);try{return t()}catch(i){return ls(i),null}finally{Le(n),ue(r),Ut(s)}},pn=function(){const t=f(this,Ce).pending;f(this,me)!==null&&(T(this,We,document.createDocumentFragment()),f(this,We).append(f(this,Ze)),As(f(this,me),f(this,We))),f(this,le)===null&&T(this,le,Te(()=>t(f(this,ge))))},Vn=function(t){var n;if(!this.has_pending_snippet()){this.parent&&W(n=this.parent,B,Vn).call(n,t);return}T(this,Qe,f(this,Qe)+t),f(this,Qe)===0&&(T(this,pe,!1),f(this,le)&&xt(f(this,le),()=>{T(this,le,null)}),f(this,We)&&(f(this,ge).before(f(this,We)),T(this,We,null)))};function qi(e,t,n){const r=nn()?sn:hr;if(t.length===0){n(e.map(r));return}var s=j,i=R,l=Hi();Promise.all(t.map(o=>Yi(o))).then(o=>{l();try{n([...e.map(r),...o])}catch(u){i.f&ze||jt(u,i)}s==null||s.deactivate(),Xn()}).catch(o=>{jt(o,i)})}function Hi(){var e=R,t=A,n=U,r=j;return function(i=!0){Le(e),ue(t),Ut(n),i&&(r==null||r.activate())}}function Xn(){Le(null),ue(null),Ut(null)}function sn(e){var t=K|fe,n=A!==null&&A.f&K?A:null;return R===null||n!==null&&n.f&be?t|=be:R.f|=qt,{ctx:U,deps:null,effects:null,equals:rs,f:t,fn:e,reactions:null,rv:0,v:H,wv:0,parent:n??R,ac:null}}function Yi(e,t){let n=R;n===null&&Ti();var r=n.b,s=void 0,i=wt(H),l=!A,o=new Map;return tl(()=>{var _;var u=es();s=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{a===j&&a.committed&&a.deactivate(),Xn()})}catch(p){u.reject(p),Xn()}var a=j;if(l){var c=!r.is_pending();r.update_pending_count(1),a.increment(c),(_=o.get(a))==null||_.reject(Ct),o.delete(a),o.set(a,u)}const h=(p,v=void 0)=>{if(a.activate(),v)v!==Ct&&(i.f|=gt,zt(i,v));else{i.f&gt&&(i.f^=gt),zt(i,p);for(const[g,m]of o){if(o.delete(g),g===a)break;m.reject(Ct)}}l&&(r.update_pending_count(-1),a.decrement(c))};u.promise.then(h,p=>h(null,p||"unknown"))}),_r(()=>{for(const u of o.values())u.reject(Ct)}),new Promise(u=>{function a(c){function h(){c===s?u(i):a(s)}c.then(h,h)}a(s)})}function oe(e){const t=sn(e);return Cs(t),t}function hr(e){const t=sn(e);return t.equals=is,t}function cs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)te(t[n])}}function Gi(e){for(var t=e.parent;t!==null;){if(!(t.f&K))return t;t=t.parent}return null}function dr(e){var t,n=R;Le(Gi(e));try{e.f&=~mn,cs(e),t=xs(e)}finally{Le(n)}return t}function hs(e){var t=dr(e);if(e.equals(t)||(e.v=t,e.wv=Rs()),!Et)if(q!==null)q.set(e,e.v);else{var n=(tt||e.f&be)&&e.deps!==null?He:V;X(e,n)}}let Kn=new Set;const rt=new Map;let ds=!1;function wt(e,t){var n={f:0,v:e,reactions:null,equals:rs,rv:0,wv:0};return n}function z(e,t){const n=wt(e);return Cs(n),n}function vs(e,t=!1,n=!0){var s;const r=wt(e);return t||(r.equals=is),Bt&&n&&U!==null&&U.l!==null&&((s=U.l).s??(s.s=[])).push(r),r}function P(e,t,n=!1){A!==null&&(!ke||A.f&Rr)&&nn()&&A.f&(K|Be|fr|Rr)&&!(ne!=null&&ne.includes(e))&&Mi();let r=n?ee(t):t;return zt(e,r)}function zt(e,t){if(!e.equals(t)){var n=e.v;Et?rt.set(e,t):rt.set(e,n),e.v=t;var r=Ue.ensure();r.capture(e,n),e.f&K&&(e.f&fe&&dr(e),X(e,e.f&be?He:V)),e.wv=Rs(),_s(e,fe),nn()&&R!==null&&R.f&V&&!(R.f&(qe|yt))&&(_e===null?il([e]):_e.push(e)),!r.is_fork&&Kn.size>0&&!ds&&Vi()}return t}function Vi(){ds=!1;const e=Array.from(Kn);for(const t of e)t.f&V&&X(t,He),un(t)&&Jt(t);Kn.clear()}function xe(e){P(e,e.v+1)}function _s(e,t){var n=e.reactions;if(n!==null)for(var r=nn(),s=n.length,i=0;i<s;i++){var l=n[i],o=l.f;if(!(!r&&l===R)){var u=(o&fe)===0;u&&X(l,t),o&K?o&mn||(l.f|=mn,_s(l,He)):u&&(o&Be&&ye!==null&&ye.add(l),bt(l))}}}function ee(e){if(typeof e!="object"||e===null||Mt in e)return e;const t=ur(e);if(t!==pi&&t!==gi)return e;var n=new Map,r=Jr(e),s=z(0),i=mt,l=o=>{if(mt===i)return o();var u=A,a=mt;ue(null),Nr(i);var c=o();return ue(u),Nr(a),c};return r&&n.set("length",z(e.length)),new Proxy(e,{defineProperty(o,u,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&Ii();var c=n.get(u);return c===void 0?c=l(()=>{var h=z(a.value);return n.set(u,h),h}):P(c,a.value,!0),!0},deleteProperty(o,u){var a=n.get(u);if(a===void 0){if(u in o){const c=l(()=>z(H));n.set(u,c),xe(s)}}else P(a,H),xe(s);return!0},get(o,u,a){var p;if(u===Mt)return e;var c=n.get(u),h=u in o;if(c===void 0&&(!h||(p=Rt(o,u))!=null&&p.writable)&&(c=l(()=>{var v=ee(h?o[u]:H),g=z(v);return g}),n.set(u,c)),c!==void 0){var _=d(c);return _===H?void 0:_}return Reflect.get(o,u,a)},getOwnPropertyDescriptor(o,u){var a=Reflect.getOwnPropertyDescriptor(o,u);if(a&&"value"in a){var c=n.get(u);c&&(a.value=d(c))}else if(a===void 0){var h=n.get(u),_=h==null?void 0:h.v;if(h!==void 0&&_!==H)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return a},has(o,u){var _;if(u===Mt)return!0;var a=n.get(u),c=a!==void 0&&a.v!==H||Reflect.has(o,u);if(a!==void 0||R!==null&&(!c||(_=Rt(o,u))!=null&&_.writable)){a===void 0&&(a=l(()=>{var p=c?ee(o[u]):H,v=z(p);return v}),n.set(u,a));var h=d(a);if(h===H)return!1}return c},set(o,u,a,c){var M;var h=n.get(u),_=u in o;if(r&&u==="length")for(var p=a;p<h.v;p+=1){var v=n.get(p+"");v!==void 0?P(v,H):p in o&&(v=l(()=>z(H)),n.set(p+"",v))}if(h===void 0)(!_||(M=Rt(o,u))!=null&&M.writable)&&(h=l(()=>z(void 0)),P(h,ee(a)),n.set(u,h));else{_=h.v!==H;var g=l(()=>ee(a));P(h,g)}var m=Reflect.getOwnPropertyDescriptor(o,u);if(m!=null&&m.set&&m.set.call(c,a),!_){if(r&&typeof u=="string"){var b=n.get("length"),L=Number(u);Number.isInteger(L)&&L>=b.v&&P(b,L+1)}xe(s)}return!0},ownKeys(o){d(s);var u=Reflect.ownKeys(o).filter(h=>{var _=n.get(h);return _===void 0||_.v!==H});for(var[a,c]of n)c.v!==H&&!(a in o)&&u.push(a);return u},setPrototypeOf(){Ri()}})}var xr,ps,gs,ms;function Xi(){if(xr===void 0){xr=window,ps=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;gs=Rt(t,"firstChild").get,ms=Rt(t,"nextSibling").get,Ir(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ir(n)&&(n.__t=void 0)}}function lt(e=""){return document.createTextNode(e)}function bn(e){return gs.call(e)}function ln(e){return ms.call(e)}function ae(e,t){return bn(e)}function ot(e,t=!1){{var n=bn(e);return n instanceof Comment&&n.data===""?ln(n):n}}function $(e,t=1,n=!1){let r=e;for(;t--;)r=ln(r);return r}function Ki(e){e.textContent=""}function bs(){return!1}function vr(e){var t=A,n=R;ue(null),Le(null);try{return e()}finally{ue(t),Le(n)}}function ws(e){R===null&&A===null&&Pi(),A!==null&&A.f&be&&R===null&&ki(),Et&&Si()}function Ji(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ve(e,t,n,r=!0){var s=R;s!==null&&s.f&de&&(e|=de);var i={ctx:U,deps:null,nodes_start:null,nodes_end:null,f:e|fe,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Jt(i),i.f|=ar}catch(u){throw te(i),u}else t!==null&&bt(i);if(r){var l=i;if(n&&l.deps===null&&l.teardown===null&&l.nodes_start===null&&l.first===l.last&&!(l.f&qt)&&(l=l.first,e&Be&&e&it&&l!==null&&(l.f|=it)),l!==null&&(l.parent=s,s!==null&&Ji(l,s),A!==null&&A.f&K&&!(e&yt))){var o=A;(o.effects??(o.effects=[])).push(l)}}return i}function Zi(){return A!==null&&!ke}function _r(e){const t=Ve(Ln,null,!1);return X(t,V),t.teardown=e,t}function wn(e){ws();var t=R.f,n=!A&&(t&qe)!==0&&(t&ar)===0;if(n){var r=U;(r.e??(r.e=[])).push(e)}else return ys(e)}function ys(e){return Ve(ts|ns,e,!1)}function Qi(e){return ws(),Ve(Ln|ns,e,!0)}function el(e){Ue.ensure();const t=Ve(yt|qt,e,!0);return(n={})=>new Promise(r=>{n.outro?xt(t,()=>{te(t),r(void 0)}):(te(t),r(void 0))})}function tl(e){return Ve(fr|qt,e,!0)}function nl(e,t=0){return Ve(Ln|t,e,!0)}function $e(e,t=[],n=[]){qi(t,n,r=>{Ve(Ln,()=>e(...r.map(d)),!0)})}function on(e,t=0){var n=Ve(Be|t,e,!0);return n}function Te(e,t=!0){return Ve(qe|qt,e,!0,t)}function Es(e){var t=e.teardown;if(t!==null){const n=Et,r=A;Lr(!0),ue(null);try{t.call(null)}finally{Lr(n),ue(r)}}}function Ts(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&vr(()=>{s.abort(Ct)});var r=n.next;n.f&yt?n.parent=null:te(n,t),n=r}}function rl(e){for(var t=e.first;t!==null;){var n=t.next;t.f&qe||te(t),t=n}}function te(e,t=!0){var n=!1;(t||e.f&bi)&&e.nodes_start!==null&&e.nodes_end!==null&&(sl(e.nodes_start,e.nodes_end),n=!0),Ts(e,t&&!n),yn(e,0),X(e,ze);var r=e.transitions;if(r!==null)for(const i of r)i.stop();Es(e);var s=e.parent;s!==null&&s.first!==null&&Ss(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function sl(e,t){for(;e!==null;){var n=e===t?null:ln(e);e.remove(),e=n}}function Ss(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function xt(e,t,n=!0){var r=[];pr(e,r,!0),ks(r,()=>{n&&te(e),t&&t()})}function ks(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function pr(e,t,n){if(!(e.f&de)){if(e.f^=de,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&it)!==0||(r.f&qe)!==0&&(e.f&Be)!==0;pr(r,t,i?n:!1),r=s}}}function gr(e){Ps(e,!0)}function Ps(e,t){if(e.f&de){e.f^=de,e.f&V||(X(e,fe),bt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&it)!==0||(n.f&qe)!==0;Ps(n,s?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}function As(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var s=n===r?null:ln(n);t.append(n),n=s}}let Ot=!1;function Or(e){Ot=e}let Et=!1;function Lr(e){Et=e}let A=null,ke=!1;function ue(e){A=e}let R=null;function Le(e){R=e}let ne=null;function Cs(e){A!==null&&(ne===null?ne=[e]:ne.push(e))}let Q=null,ce=0,_e=null;function il(e){_e=e}let Is=1,Kt=0,mt=Kt;function Nr(e){mt=e}let tt=!1;function Rs(){return++Is}function un(e){var h;var t=e.f;if(t&fe)return!0;if(t&He){var n=e.deps,r=(t&be)!==0;if(t&K&&(e.f&=~mn),n!==null){var s,i,l=(t&gn)!==0,o=r&&R!==null&&!tt,u=n.length;if((l||o)&&(R===null||!(R.f&ze))){var a=e,c=a.parent;for(s=0;s<u;s++)i=n[s],(l||!((h=i==null?void 0:i.reactions)!=null&&h.includes(a)))&&(i.reactions??(i.reactions=[])).push(a);l&&(a.f^=gn),o&&c!==null&&!(c.f&be)&&(a.f^=be)}for(s=0;s<u;s++)if(i=n[s],un(i)&&hs(i),i.wv>e.wv)return!0}(!r||R!==null&&!tt)&&X(e,V)}return!1}function Ms(e,t,n=!0){var r=e.reactions;if(r!==null&&!(ne!=null&&ne.includes(e)))for(var s=0;s<r.length;s++){var i=r[s];i.f&K?Ms(i,t,!1):t===i&&(n?X(i,fe):i.f&V&&X(i,He),bt(i))}}function xs(e){var g;var t=Q,n=ce,r=_e,s=A,i=tt,l=ne,o=U,u=ke,a=mt,c=e.f;Q=null,ce=0,_e=null,tt=(c&be)!==0&&(ke||!Ot||A===null),A=c&(qe|yt)?null:e,ne=null,Ut(e.ctx),ke=!1,mt=++Kt,e.ac!==null&&(vr(()=>{e.ac.abort(Ct)}),e.ac=null);try{e.f|=Bn;var h=e.fn,_=h(),p=e.deps;if(Q!==null){var v;if(yn(e,ce),p!==null&&ce>0)for(p.length=ce+Q.length,v=0;v<Q.length;v++)p[ce+v]=Q[v];else e.deps=p=Q;if(!tt||c&K&&e.reactions!==null)for(v=ce;v<p.length;v++)((g=p[v]).reactions??(g.reactions=[])).push(e)}else p!==null&&ce<p.length&&(yn(e,ce),p.length=ce);if(nn()&&_e!==null&&!ke&&p!==null&&!(e.f&(K|He|fe)))for(v=0;v<_e.length;v++)Ms(_e[v],e);return s!==null&&s!==e&&(Kt++,_e!==null&&(r===null?r=_e:r.push(..._e))),e.f&gt&&(e.f^=gt),_}catch(m){return ls(m)}finally{e.f^=Bn,Q=t,ce=n,_e=r,A=s,tt=i,ne=l,Ut(o),ke=u,mt=a}}function ll(e,t){let n=t.reactions;if(n!==null){var r=_i.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&t.f&K&&(Q===null||!Q.includes(t))&&(X(t,He),t.f&(be|gn)||(t.f^=gn),cs(t),yn(t,0))}function yn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ll(e,n[r])}function Jt(e){var t=e.f;if(!(t&ze)){X(e,V);var n=R,r=Ot;R=e,Ot=!0;try{t&Be?rl(e):Ts(e),Es(e);var s=xs(e);e.teardown=typeof s=="function"?s:null,e.wv=Is;var i;Kr&&ri&&e.f&fe&&e.deps}finally{Ot=r,R=n}}}function d(e){var t=e.f,n=(t&K)!==0;if(A!==null&&!ke){var r=R!==null&&(R.f&ze)!==0;if(!r&&!(ne!=null&&ne.includes(e))){var s=A.deps;if(A.f&Bn)e.rv<Kt&&(e.rv=Kt,Q===null&&s!==null&&s[ce]===e?ce++:Q===null?Q=[e]:(!tt||!Q.includes(e))&&Q.push(e));else{(A.deps??(A.deps=[])).push(e);var i=e.reactions;i===null?e.reactions=[A]:i.includes(A)||i.push(A)}}}else if(n&&e.deps===null&&e.effects===null){var l=e,o=l.parent;o!==null&&!(o.f&be)&&(l.f^=be)}if(Et){if(rt.has(e))return rt.get(e);if(n){l=e;var u=l.v;return(!(l.f&V)&&l.reactions!==null||Os(l))&&(u=dr(l)),rt.set(l,u),u}}else if(n){if(l=e,q!=null&&q.has(l))return q.get(l);un(l)&&hs(l)}if(q!=null&&q.has(e))return q.get(e);if(e.f&gt)throw e.v;return e.v}function Os(e){if(e.v===H)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(rt.has(t)||t.f&K&&Os(t))return!0;return!1}function an(e){var t=ke;try{return ke=!0,e()}finally{ke=t}}const ol=-7169;function X(e,t){e.f=e.f&ol|t}function ul(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Mt in e)Jn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Mt in n&&Jn(n)}}}function Jn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Jn(e[r],t)}catch{}const n=ur(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Qr(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const Ls=new Set,Zn=new Set;function Ns(e,t,n,r={}){function s(i){if(r.capture||Gt.call(t,i),!i.cancelBubble)return vr(()=>n==null?void 0:n.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?rn(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function Dr(e,t,n,r={}){var s=Ns(t,e,n,r);return()=>{e.removeEventListener(t,s,r)}}function Yt(e,t,n,r,s){var i={capture:r,passive:s},l=Ns(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&_r(()=>{t.removeEventListener(e,l,i)})}function fn(e){for(var t=0;t<e.length;t++)Ls.add(e[t]);for(var n of Zn)n(e)}let Wr=null;function Gt(e){var m;var t=this,n=t.ownerDocument,r=e.type,s=((m=e.composedPath)==null?void 0:m.call(e))||[],i=s[0]||e.target;Wr=e;var l=0,o=Wr===e&&e.__root;if(o){var u=s.indexOf(o);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var a=s.indexOf(t);if(a===-1)return;u<=a&&(l=u)}if(i=s[l]||e.target,i!==t){Zr(e,"currentTarget",{configurable:!0,get(){return i||n}});var c=A,h=R;ue(null),Le(null);try{for(var _,p=[];i!==null;){var v=i.assignedSlot||i.parentNode||i.host||null;try{var g=i["__"+r];g!=null&&(!i.disabled||e.target===i)&&g.call(i,e)}catch(b){_?p.push(b):_=b}if(e.cancelBubble||v===t||v===null)break;i=v}if(_){for(let b of p)queueMicrotask(()=>{throw b});throw _}}finally{e.__root=t,delete e.currentTarget,ue(c),Le(h)}}}function al(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function En(e,t){var n=R;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function J(e,t){var n=(t&hi)!==0,r=(t&di)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=al(i?e:"<!>"+e),n||(s=bn(s)));var l=r||ps?document.importNode(s,!0):s.cloneNode(!0);if(n){var o=bn(l),u=l.lastChild;En(o,u)}else En(l,l);return l}}function at(e=""){{var t=lt(e+"");return En(t,t),t}}function Tn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=lt();return e.append(t,n),En(t,n),e}function N(e,t){e!==null&&e.before(t)}const fl=["touchstart","touchmove"];function cl(e){return fl.includes(e)}function mr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function hl(e,t){return dl(e,t)}const kt=new Map;function dl(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:l=!0}){Xi();var o=new Set,u=h=>{for(var _=0;_<h.length;_++){var p=h[_];if(!o.has(p)){o.add(p);var v=cl(p);t.addEventListener(p,Gt,{passive:v});var g=kt.get(p);g===void 0?(document.addEventListener(p,Gt,{passive:v}),kt.set(p,1)):kt.set(p,g+1)}}};u(or(Ls)),Zn.add(u);var a=void 0,c=el(()=>{var h=n??t.appendChild(lt());return ji(h,{pending:()=>{}},_=>{if(i){Ye({});var p=U;p.c=i}s&&(r.$$events=s),a=e(_,r)||{},i&&Ge()}),()=>{var v;for(var _ of o){t.removeEventListener(_,Gt);var p=kt.get(_);--p===0?(document.removeEventListener(_,Gt),kt.delete(_)):kt.set(_,p)}Zn.delete(u),h!==n&&((v=h.parentNode)==null||v.removeChild(h))}});return vl.set(a,c),a}let vl=new WeakMap;var Ee,Me,he,Qt,en,Mn;class br{constructor(t,n=!0){ie(this,"anchor");I(this,Ee,new Map);I(this,Me,new Map);I(this,he,new Map);I(this,Qt,!0);I(this,en,()=>{var t=j;if(f(this,Ee).has(t)){var n=f(this,Ee).get(t),r=f(this,Me).get(n);if(r)gr(r);else{var s=f(this,he).get(n);s&&(f(this,Me).set(n,s.effect),f(this,he).delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,l]of f(this,Ee)){if(f(this,Ee).delete(i),i===t)break;const o=f(this,he).get(l);o&&(te(o.effect),f(this,he).delete(l))}for(const[i,l]of f(this,Me)){if(i===n)continue;const o=()=>{if(Array.from(f(this,Ee).values()).includes(i)){var a=document.createDocumentFragment();As(l,a),a.append(lt()),f(this,he).set(i,{effect:l,fragment:a})}else te(l);f(this,Me).delete(i)};f(this,Qt)||!r?xt(l,o,!1):o()}}});I(this,Mn,t=>{f(this,Ee).delete(t);const n=Array.from(f(this,Ee).values());for(const[r,s]of f(this,he))n.includes(r)||(te(s.effect),f(this,he).delete(r))});this.anchor=t,T(this,Qt,n)}ensure(t,n){var r=j,s=bs();if(n&&!f(this,Me).has(t)&&!f(this,he).has(t))if(s){var i=document.createDocumentFragment(),l=lt();i.append(l),f(this,he).set(t,{effect:Te(()=>n(l)),fragment:i})}else f(this,Me).set(t,Te(()=>n(this.anchor)));if(f(this,Ee).set(r,t),s){for(const[o,u]of f(this,Me))o===t?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[o,u]of f(this,he))o===t?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(f(this,en)),r.ondiscard(f(this,Mn))}else f(this,en).call(this)}}Ee=new WeakMap,Me=new WeakMap,he=new WeakMap,Qt=new WeakMap,en=new WeakMap,Mn=new WeakMap;function Qn(e,t,...n){var r=new br(e);on(()=>{const s=t()??null;r.ensure(s,s&&(i=>s(i,...n)))},it)}function _l(e){U===null&&Ei(),Bt&&U.l!==null?pl(U).m.push(e):wn(()=>{const t=an(e);if(typeof t=="function")return t})}function pl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function Lt(e,t,n=!1){var r=new br(e),s=n?it:0;function i(l,o){r.ensure(l,o)}on(()=>{var l=!1;t((o,u=!0)=>{l=!0,i(u,o)}),l||i(!1,null)},s)}function wr(e,t){return t}function gl(e,t,n){for(var r=e.items,s=[],i=t.length,l=0;l<i;l++)pr(t[l].e,s,!0);var o=i>0&&s.length===0&&n!==null;if(o){var u=n.parentNode;Ki(u),u.append(n),r.clear(),Ae(e,t[0].prev,t[i-1].next)}ks(s,()=>{for(var a=0;a<i;a++){var c=t[a];o||(r.delete(c.k),Ae(e,c.prev,c.next)),te(c.e,!o)}})}function Sn(e,t,n,r,s,i=null){var l=e,o={flags:t,items:new Map,first:null},u=(t&Xr)!==0;if(u){var a=e;l=a.appendChild(lt())}var c=null,h=!1,_=new Map,p=hr(()=>{var b=n();return Jr(b)?b:b==null?[]:or(b)}),v,g;function m(){ml(g,v,o,_,l,s,t,r,n),i!==null&&(v.length===0?c?gr(c):c=Te(()=>i(l)):c!==null&&xt(c,()=>{c=null}))}on(()=>{g??(g=R),v=d(p);var b=v.length;if(!(h&&b===0)){h=b===0;var L,M,w,k;if(bs()){var E=new Set,C=j;for(M=0;M<b;M+=1){w=v[M],k=r(w,M);var F=o.items.get(k)??_.get(k);F?t&(xn|On)&&Ds(F,w,M,t):(L=Ws(null,o,null,null,w,k,M,s,t,n,!0),_.set(k,L)),E.add(k)}for(const[Z,re]of o.items)E.has(Z)||C.skipped_effects.add(re.e);C.oncommit(m)}else m();d(p)}})}function ml(e,t,n,r,s,i,l,o,u){var we,De,Xe,Ke;var a=(l&ii)!==0,c=(l&(xn|On))!==0,h=t.length,_=n.items,p=n.first,v=p,g,m=null,b,L=[],M=[],w,k,E,C;if(a)for(C=0;C<h;C+=1)w=t[C],k=o(w,C),E=_.get(k),E!==void 0&&((we=E.a)==null||we.measure(),(b??(b=new Set)).add(E));for(C=0;C<h;C+=1){if(w=t[C],k=o(w,C),E=_.get(k),E===void 0){var F=r.get(k);if(F!==void 0){r.delete(k),_.set(k,F);var Z=m?m.next:v;Ae(n,m,F),Ae(n,F,Z),Fn(F,Z,s),m=F}else{var re=v?v.e.nodes_start:s;m=Ws(re,n,m,m===null?n.first:m.next,w,k,C,i,l,u)}_.set(k,m),L=[],M=[],v=m.next;continue}if(c&&Ds(E,w,C,l),E.e.f&de&&(gr(E.e),a&&((De=E.a)==null||De.unfix(),(b??(b=new Set)).delete(E))),E!==v){if(g!==void 0&&g.has(E)){if(L.length<M.length){var Ne=M[0],ve;m=Ne.prev;var x=L[0],y=L[L.length-1];for(ve=0;ve<L.length;ve+=1)Fn(L[ve],Ne,s);for(ve=0;ve<M.length;ve+=1)g.delete(M[ve]);Ae(n,x.prev,y.next),Ae(n,m,x),Ae(n,y,Ne),v=Ne,m=y,C-=1,L=[],M=[]}else g.delete(E),Fn(E,v,s),Ae(n,E.prev,E.next),Ae(n,E,m===null?n.first:m.next),Ae(n,m,E),m=E;continue}for(L=[],M=[];v!==null&&v.k!==k;)v.e.f&de||(g??(g=new Set)).add(v),M.push(v),v=v.next;if(v===null)continue;E=v}L.push(E),m=E,v=E.next}if(v!==null||g!==void 0){for(var S=g===void 0?[]:or(g);v!==null;)v.e.f&de||S.push(v),v=v.next;var O=S.length;if(O>0){var Pe=l&Xr&&h===0?s:null;if(a){for(C=0;C<O;C+=1)(Xe=S[C].a)==null||Xe.measure();for(C=0;C<O;C+=1)(Ke=S[C].a)==null||Ke.fix()}gl(n,S,Pe)}}a&&rn(()=>{var se;if(b!==void 0)for(E of b)(se=E.a)==null||se.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var Tt of r.values())te(Tt.e);r.clear()}function Ds(e,t,n,r){r&xn&&zt(e.v,t),r&On?zt(e.i,n):e.i=n}function Ws(e,t,n,r,s,i,l,o,u,a,c){var h=(u&xn)!==0,_=(u&li)===0,p=h?_?vs(s,!1,!1):wt(s):s,v=u&On?wt(l):l,g={i:v,v:p,k:i,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=lt())}return g.e=Te(()=>o(e,p,v,a),Li),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?c||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Fn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var l=ln(i);s.before(i),i=l}}function Ae(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function bl(e,t,n){var r=new br(e);on(()=>{var s=t()??null;r.ensure(s,s&&(i=>n(i,s)))},it)}const Fr=[...` 	
\r\f \v\uFEFF`];function wl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,l=0;(l=r.indexOf(s,l))>=0;){var o=l+i;(l===0||Fr.includes(r[l-1]))&&(o===r.length||Fr.includes(r[o]))?r=(l===0?"":r.substring(0,l))+r.substring(o+1):l=o}}return r===""?null:r}function Ur(e,t=!1){var n=t?" !important;":";",r="";for(var s in e){var i=e[s];i!=null&&i!==""&&(r+=" "+s+": "+i+n)}return r}function yl(e,t){if(t){var n="",r,s;return Array.isArray(t)?(r=t[0],s=t[1]):r=t,r&&(n+=Ur(r)),s&&(n+=Ur(s,!0)),n=n.trim(),n===""?null:n}return String(e)}function $t(e,t,n,r,s,i){var l=e.__className;if(l!==n||l===void 0){var o=wl(n,r,i);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(i&&s!==i)for(var u in i){var a=!!i[u];(s==null||a!==!!s[u])&&e.classList.toggle(u,a)}return i}function Un(e,t={},n,r){for(var s in n){var i=n[s];t[s]!==i&&(n[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,r))}}function er(e,t,n,r){var s=e.__style;if(s!==t){var i=yl(t,r);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}else r&&(Array.isArray(r)?(Un(e,n==null?void 0:n[0],r[0]),Un(e,n==null?void 0:n[1],r[1],"important")):Un(e,n,r));return r}const El=Symbol("is custom element"),Tl=Symbol("is html");function Sl(e,t){var n=Fs(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function yr(e,t,n,r){var s=Fs(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[yi]=n),n==null?e.removeAttribute(t):typeof n!="string"&&kl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Fs(e){return e.__attributes??(e.__attributes={[El]:e.nodeName.includes("-"),[Tl]:e.namespaceURI===vi})}var jr=new Map;function kl(e){var t=e.getAttribute("is")||e.nodeName,n=jr.get(t);if(n)return n;jr.set(t,n=[]);for(var r,s=e,i=Element.prototype;i!==s;){r=Qr(s);for(var l in r)r[l].set&&n.push(l);s=ur(s)}return n}function Pl(e=!1){const t=U,n=t.l.u;if(!n)return;let r=()=>ul(t.s);if(e){let s=0,i={};const l=sn(()=>{let o=!1;const u=t.s;for(const a in u)u[a]!==i[a]&&(i[a]=u[a],o=!0);return o&&s++,s});r=()=>d(l)}n.b.length&&Qi(()=>{zr(t,r),$n(n.b)}),wn(()=>{const s=an(()=>n.m.map(mi));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&wn(()=>{zr(t,r),$n(n.a)})}function zr(e,t){if(e.l.s)for(const n of e.l.s)d(n);t()}function Us(e,t,n){if(e==null)return t(void 0),je;const r=an(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Pt=[];function Al(e,t=je){let n=null;const r=new Set;function s(o){if(ss(e,o)&&(e=o,n)){const u=!Pt.length;for(const a of r)a[1](),Pt.push(a,e);if(u){for(let a=0;a<Pt.length;a+=2)Pt[a][0](Pt[a+1]);Pt.length=0}}}function i(o){s(o(e))}function l(o,u=je){const a=[o,u];return r.add(a),r.size===1&&(n=t(s,i)||je),o(e),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}function Cl(e){let t;return Us(e,n=>t=n)(),t}let dn=!1,tr=Symbol();function js(e,t,n){const r=n[t]??(n[t]={store:null,source:vs(void 0),unsubscribe:je});if(r.store!==e&&!(tr in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=je;else{var s=!0;r.unsubscribe=Us(e,i=>{s?r.source.v=i:P(r.source,i)}),s=!1}return e&&tr in n?Cl(e):d(r.source)}function zs(){const e={};function t(){_r(()=>{for(var n in e)e[n].unsubscribe();Zr(e,tr,{enumerable:!1,value:!0})})}return[e,t]}function Il(e){var t=dn;try{return dn=!1,[e(),dn]}finally{dn=t}}function st(e,t,n,r){var M;var s=!Bt||(n&ui)!==0,i=(n&fi)!==0,l=(n&ci)!==0,o=r,u=!0,a=()=>(u&&(u=!1,o=l?an(r):r),o),c;if(i){var h=Mt in e||wi in e;c=((M=Rt(e,t))==null?void 0:M.set)??(h&&t in e?w=>e[t]=w:void 0)}var _,p=!1;i?[_,p]=Il(()=>e[t]):_=e[t],_===void 0&&r!==void 0&&(_=a(),c&&(s&&Ci(),c(_)));var v;if(s?v=()=>{var w=e[t];return w===void 0?a():(u=!0,w)}:v=()=>{var w=e[t];return w!==void 0&&(o=void 0),w===void 0?o:w},s&&!(n&ai))return v;if(c){var g=e.$$legacy;return function(w,k){return arguments.length>0?((!s||!k||g||p)&&c(k?v():w),w):v()}}var m=!1,b=(n&oi?sn:hr)(()=>(m=!1,v()));i&&d(b);var L=R;return function(w,k){if(arguments.length>0){const E=k?d(b):s&&i?ee(w):w;return P(b,E),m=!0,o!==void 0&&(o=E),w}return Et&&m||L.f&ze?b.v:d(b)}}function kn(e,t){if(t)for(const n in t)e=e.replace(`:${n}`,String(t[n]));if(D.name==="#"){const n=new URL(globalThis.location.toString());return n.hash=e,n.search="",n.toString()}return e}function Rl(e,t){let n=kn(e,t==null?void 0:t.params);return t!=null&&t.search&&(n+=Sr(t.search)),t!=null&&t.hash&&!t.hash.startsWith("#")&&(n+="#"+t.hash),n}function $s(e){return Promise.all(e.map(t=>Ml(t)))}function Ml(e){return new Promise(t=>{xl(e)?Promise.resolve(e()).then(n=>{t(n.default)}):t(e)})}function xl(e){return typeof e=="function"&&!!/\(\)\s?=>\s?(import|__vite_ssr_dynamic_import__)\(.*\)/.test(String(e))}function Dn(...e){let t="";for(let n of e)n.startsWith("/")||(t+="/"),n.endsWith("/")&&(n=n.slice(0,-1)),t+=n;return t}function Er(e){return D.name&&e.startsWith(D.name)&&(e=e.slice(D.name.length)||"/"),e}function Tr(){const e=D.name==="#"?globalThis.location.hash.slice(1):globalThis.location.pathname,t=D.name==="#"?"":globalThis.location.hash;return{pathname:e,search:globalThis.location.search,state:history.state,hash:t}}function Sr(e){if(!e)return;if(typeof e=="string")return e.startsWith("?")||(e="?"+e),e;const t=Object.fromEntries(Object.entries(e).map(([r,s])=>[r,String(s)]));return Object.keys(t).length===0?void 0:"?"+new URLSearchParams(t).toString()}function kr(e){if(!e)return{};if(typeof e=="string"){const t=new URLSearchParams(e);return Object.fromEntries([...t.entries()].map(([n,r])=>[n,Ol(r)]))}return e}function Ol(e){if(e==="")return"";if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);return Number.isNaN(t)?e:t}function nr(e,t){const n=D.name&&D.name!=="#"?Dn(D.name,e):e;return Bs((r,s)=>r===s,n,t)}nr.startsWith=(e,t)=>{const n=D.name&&D.name!=="#"?Dn(D.name,e):e;return Bs((r,s)=>r.startsWith(s),n,t)};function Bs(e,t,n){if(!t.includes(":"))return e(Oe.pathname,t);if(n)return D.name==="#"?e(Oe.pathname,new URL(kn(t,n)).hash.slice(1)):e(Oe.pathname,kn(t,n));const r=t.split("/").slice(1);let s=Oe.pathname.split("/").slice(1);if(r.length>s.length)return!1;for(const[i,l]of r.entries()){const o=s[i];if(!l.startsWith(":")&&l!==o)return!1}return!0}function Pr(e,t){e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1));const n=e.split("/").slice(1),r=Ll(Object.keys(t));let s,i=[],l=[],o={},u={},a=!1;e:for(const c of r){const h=c.split("/");h[0]===""&&h.shift();for(let[_,p]of h.entries()){a=p.startsWith("(")&&p.endsWith(")"),a&&(p=p.slice(1,-1));const v=n[_];if(p.startsWith(":"))o[p.slice(1)]=v;else if(p.startsWith("*")){const L=p.slice(1);L&&(o[L]=n.slice(_).join("/")),a?(p=`(${p})`,i=[]):"layout"in t&&t.layout&&i.push(t.layout);const M=(_?"/":"")+h.join("/");s=t[M];break e}else if(p!==(v==null?void 0:v.toLowerCase()))break;if(_!==h.length-1)continue;const g=t["/"+h.join("/")];if(!a&&"layout"in t&&t.layout&&i.push(t.layout),"hooks"in t&&t.hooks&&l.push(t.hooks),"meta"in t&&t.meta&&(u={...u,...t.meta}),typeof g=="function"){if(h.length===n.length){s=g;break e}continue}const m="/"+n.slice(_+1).join("/"),b=Pr(m,g);if(b.match)s=b.match,o={...o,...b.params},l.push(...b.hooks),u={...u,...b.meta},b.breakFromLayouts?i=[]:i.push(...b.layouts);else continue;break e}}return{match:s,layouts:i,hooks:l,params:o,meta:u,breakFromLayouts:a}}function Ll(e){return e.toSorted((t,n)=>$r(t)-$r(n))}function $r(e){return e===""||e==="/"?1:e.includes("*")?4:e.includes(":")?3:2}const Nl=200,Dl=Math.PI/6,Wl=50;async function qs(e,t,n){const{match:r,layouts:s,hooks:i,meta:l}=Pr(t,e);for(const{onPreload:o}of i)o==null||o({pathname:t,meta:l,...n,search:kr(n==null?void 0:n.search)});await $s(r?[...s,r]:s)}const Br=new Set,At=new Set;function Fl(e){function t(l){if(!l.getAttribute("href"))return;const u=new URL(l.href),a=Er(u.pathname),{replace:c,state:h}=l.dataset;qs(e,a,{replace:c===""||c==="true",search:u.search,state:h,hash:u.hash})}let n=null;function r(l){if(!l.getPredictedEvents||n)return;if(n=setTimeout(()=>{n=null},Wl),At.size===0){document.removeEventListener("pointermove",r);return}const u=l.getPredictedEvents().at(-1);if(!u)return;const a=l.clientX,c=l.clientY,h=u.clientX-a,_=u.clientY-c,p=Math.hypot(h,_);if(p<2)return;const v=h/p,g=_/p;e:for(const m of At){m.isConnected||At.delete(m);const b=m.getBoundingClientRect(),L=[{x:b.left,y:b.top},{x:b.right,y:b.top},{x:b.left,y:b.bottom},{x:b.right,y:b.bottom},{x:b.left+b.width/2,y:b.top+b.height/2}];for(const M of L){const w=M.x-a,k=M.y-c,E=Math.hypot(w,k);if(E>Nl||E<.001)continue;const C=w/E,F=k/E,Z=v*C+g*F;if(Math.acos(Math.max(-1,Math.min(1,Z)))<=Dl){t(m),At.delete(m);continue e}}}}const s=new IntersectionObserver(l=>{for(const o of l)o.isIntersecting&&(s.unobserve(o.target),t(o.target))});new MutationObserver(()=>{const l=document.querySelectorAll("a[data-preload]");for(const o of l)if(!Br.has(o)){switch(Br.add(o),o.dataset.preload){case"":case"hover":{o.addEventListener("mouseenter",function u(){o.removeEventListener("mouseenter",u),t(o)});break}case"predict":{At.size===0&&document.addEventListener("pointermove",r),At.add(o);break}case"viewport":{s.observe(o);break}default:{console.warn(`Unknown preload strategy \`${o.dataset.preload}\` on`,o,`
Available strategies are: hover, viewport, predict`);break}}o.addEventListener("focus",function u(){o.removeEventListener("focus",u),t(o)})}}).observe(document.body,{subtree:!0,childList:!0})}class qr extends Error{constructor(t){super(`Navigating to: ${t}`),this.name="Redirect"}}const Ul=Symbol();var Y,tn,Fe,pt,Vt;class jl extends URLSearchParams{constructor(){super(...arguments);I(this,pt);I(this,Y,z(0));I(this,tn,$l());I(this,Fe,!1)}[Ul](n){if(!f(this,Fe)){T(this,Fe,!0);for(const r of[...super.keys()])super.delete(r);for(const[r,s]of n)super.append(r,s);xe(f(this,Y)),T(this,Fe,!1)}}append(n,r){super.append(n,r),W(this,pt,Vt).call(this),xe(f(this,Y))}delete(n,r){var s=super.has(n,r);super.delete(n,r),s&&(W(this,pt,Vt).call(this),xe(f(this,Y)))}get(n){return d(f(this,Y)),super.get(n)}getAll(n){return d(f(this,Y)),super.getAll(n)}has(n,r){return d(f(this,Y)),super.has(n,r)}keys(){return d(f(this,Y)),super.keys()}set(n,r){var s=super.getAll(n).join("");super.set(n,r),s!==super.getAll(n).join("")&&(W(this,pt,Vt).call(this),xe(f(this,Y)))}sort(){super.sort(),W(this,pt,Vt).call(this),xe(f(this,Y))}toString(){return d(f(this,Y)),super.toString()}values(){return d(f(this,Y)),super.values()}entries(){return d(f(this,Y)),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return d(f(this,Y)),super.size}}Y=new WeakMap,tn=new WeakMap,Fe=new WeakMap,pt=new WeakSet,Vt=function(){if(!f(this,tn)||f(this,Fe))return;T(this,Fe,!0);const n=this.toString();f(this,tn).search=n&&`?${n}`,T(this,Fe,!1)};let zl=null;function $l(){return zl}let vn=new jl(globalThis.location.search);function Hr(e){if(vn.toString()===e)return;const t=new URLSearchParams(e);for(const[n,r]of t)vn.set(n,r);for(const n of vn.keys())t.has(n)||vn.delete(n)}let Xt;const D={name:void 0};let rr=ee({value:[]}),Oe=ee(Tr()),sr=ee({value:{}}),Hs=ee({value:{}}),jn=0,Yr=0;function Bl(e){if(e){const t=new URL(globalThis.location.toString());e==="#"?(D.name="#",globalThis.location.href.includes("#")||(t.hash="/",history.replaceState(history.state||{},"",t.toString()))):(D.name=(e.startsWith("/")?"":"/")+e,t.pathname.startsWith(D.name)||(t.pathname=Dn(D.name,t.pathname),history.replaceState(history.state||{},"",t.toString())))}Object.assign(Oe,Tr())}function ql(e){return Xt=e,Fl(Xt),{p:Rl,navigate:Hl,isActive:nr,async preload(t){await qs(Xt,t)},route:{get params(){return sr.value},getParams(t){if(!nr(t))throw new Error(`\`${t}\` does not match the current route`);return sr.value},get pathname(){return Er(Oe.pathname)},get search(){return kr(Oe.search)},get state(){return Oe.state},get hash(){return Oe.hash},get meta(){return Hs.value}}}}function Hl(e,t={}){return typeof e=="number"?(globalThis.history.go(e),new qr(`History entry: ${e}`)):(e=kn(e,t.params),D.name==="#"?e=new URL(e).hash:t.hash&&!t.hash.startsWith("#")&&(t.hash="#"+t.hash),Pn(e,t),new qr(`${e}${Sr((t==null?void 0:t.search)??"")}${(t==null?void 0:t.hash)??""}`))}async function Pn(e,t={}){var v;if(!Xt)throw new Error("Router not initialized: `createRouter` was not called.");jn++;const n=jn,r=Yl(e),{match:s,layouts:i,hooks:l,meta:o,params:u}=Pr(r,Xt),a=kr(t.search),c={pathname:r,meta:o,...t,search:a};let h=[];for(const g of l)try{const{beforeLoad:m}=g;h.push(g),Yr=n,await(m==null?void 0:m(c))}catch(m){for(const{onError:b}of h)b==null||b(m,c);return}const _=(v=new Error().stack)==null?void 0:v.includes("beforeLoad");let p;try{p=await $s(s?[...i,s]:i)}catch(g){for(const{onError:m}of l)m==null||m(g,c);throw g}if(!(jn!==n||_&&Yr+1!==n)){if(e){const g=Sr(t.search),m=new URL(globalThis.location.toString());m.search=g||"",m.hash=t.hash||"",D.name==="#"?m.hash=e:m.pathname=D.name?Dn(D.name,e):e;const b=t.replace?"replaceState":"pushState";globalThis.history[b](t.state||{},"",m.toString()),Hr(g)}else Hr(globalThis.location.search);t.viewTransition&&document.startViewTransition!==void 0?document.startViewTransition(()=>{rr.value=p}):rr.value=p,sr.value=u,Hs.value=o,Object.assign(Oe,Tr()),t.scrollToTop!==!1&&window.scrollTo({top:0,left:0,behavior:t.scrollToTop});for(const{afterLoad:g}of l)g==null||g(c)}}function Yl(e){let t;return e?t=e:D.name==="#"?t=globalThis.location.hash.slice(1):t=globalThis.location.pathname,D.name&&t.startsWith(D.name)&&(t=t.slice(D.name.length)||"/"),Er(t)}function Gl(e){const t=e.target.closest("a");if(!t||t.hasAttribute("target")||t.hasAttribute("download")||!t.hasAttribute("href"))return;const n=new URL(t.href),r=globalThis.location.origin;if(n.origin!==r)return;const s=D.name==="#"?n.hash:n.pathname,i=D.name==="#"?void 0:n.hash;e.preventDefault();const{replace:l,state:o,scrollToTop:u,viewTransition:a}=t.dataset;Pn(s,{replace:l===""||l==="true",search:n.search,state:o,hash:i,scrollToTop:u==="false"?!1:u,viewTransition:a===""||a==="true"})}function Ys(e,t){Ye(t,!0);const n=oe(()=>t.tree[0]),r=oe(()=>t.tree.slice(1));var s=Tn(),i=ot(s);bl(i,()=>d(n),(l,o)=>{o(l,{children:(u,a)=>{var c=Tn(),h=ot(c);{var _=p=>{Ys(p,{get tree(){return d(r)}})};Lt(h,p=>{d(r).length>0&&p(_)})}N(u,c)},$$slots:{default:!0}})}),N(e,s),Ge()}function Vl(e,t){Ye(t,!0),Bl(t.base),Pn(),wn(()=>{const n=Dr(globalThis,"popstate",()=>Pn()),r=Dr(globalThis,"click",Gl);return()=>{n(),r()}}),Ys(e,{get tree(){return rr.value}}),Ge()}function Xl(e,t){if(e.empty)throw Error(`source-empty ${e.name}`);if(e.done)throw Error(`source-closed ${e.name}`);if(t.full)throw Error(`target-full ${e.name}`);const n=e.topColor;if(!t.empty&&n!==t.topColor)throw Error("invalid-color");const r=Math.min(e.topAmount,t.emptySpace),s=e.levels.slice(0,-r),i=Array(r).fill(n),l=[...t.levels,...i];return[new nt(e.id,s),new nt(t.id,l)]}let nt=class Gs{constructor(t,n=[]){this.id=t,this.levels=n}get name(){return String.fromCharCode(65+this.id)}get empty(){return this.levels.length===0}get full(){return this.levels.length>=4}get emptySpace(){return 4-this.levels.length}get done(){return this.levels.length===4&&this.levels[0]===this.levels[1]&&this.levels[1]===this.levels[2]&&this.levels[2]==this.levels[3]&&this.levels[3]>0}get topColor(){return this.levels.length?this.levels[this.levels.length-1]:null}get topAmount(){if(this.levels.length<=1)return this.levels.length;const t=this.topColor;let n=1;for(;n<this.levels.length;){if(this.levels[this.levels.length-1-n]!=t)return n;n+=1}return this.levels.length}get singleColor(){return this.topAmount===this.levels.length}accepts(t){return this.empty?4:this.full?0:this.topColor===t?this.emptySpace:0}add(t){if(this.full)throw Error(`tube-full ${this.name}`);return new Gs(this.id,[...this.levels,t])}};const Vs=19;class Gr{constructor(t,n){ie(this,"cumulative");ie(this,"tot");this.items=t,this.cumulative=[],this.tot=0;for(let r=0;r<t.length;r++)this.tot+=n[r],this.cumulative.push(this.tot)}randomItem(){const t=Math.random()*this.tot;for(let n=0;n<this.items.length;n++)if(this.cumulative[n]>t)return this.items[n];return this.items[this.items.length-1]}}function Kl(e){let t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!r.done&&!r.empty)for(let s=0;s<e.length;s++){const i=e[s];n!==s&&i.accepts(r.topColor)&&t.push({from:r.id,to:i.id})}}return t}function Jl(e){return e.map(t=>t.done||t.empty).reduce((t,n)=>t&&n,!0)}var ir=(e=>(e[e.Playing=0]="Playing",e[e.Won=1]="Won",e[e.Lost=2]="Lost",e))(ir||{});class Se{constructor(t=[]){ie(this,"status");ie(this,"tubes");this.tubes=[];for(const[n,r]of t.entries())r instanceof nt?this.tubes.push(r):this.tubes.push(new nt(n,r));this.status=0,Jl(this.tubes)?this.status=1:this.possibleActions().length===0&&(this.status=2)}possibleActions(){return Kl(this.tubes)}get won(){return this.status===1}get lost(){return this.status===2}get ended(){return this.status!==0}get numClosed(){return this.tubes.filter(t=>t.done).length}historyEntry({from:t,to:n}){if(this.tubes[t].topColor!==this.tubes[n].topColor&&!this.tubes[n].empty)throw new Error("invalid-color");const r=this.tubes[t].topColor;return{fromIndex:t,toIndex:n,fromId:this.tubes[t].name,toId:this.tubes[n].name,color:r,amount:Math.min(this.tubes[t].topAmount,this.tubes[n].accepts(r))}}applyMove({from:t,to:n}){const[r,s]=Xl(this.tubes[t],this.tubes[n]),i=[...this.tubes];return i[t]=r,i[n]=s,new Se(i)}add(t,n){const r=[...this.tubes];return r[n]=this.tubes[n].add(t),new Se(r)}getHash(){return this.tubes.map(t=>t.levels.concat(t.full?[]:[0])).flat().map(t=>t.toString(36)).join("")}}function zn(e){return e[Math.floor(Math.random()*e.length)]}function Zl(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}function Ql(e){const t=Array(Vs).fill(null).map((n,r)=>r+1);return Zl(t),t.slice(0,e)}function Xs(e=0){e==0&&(e=10+Math.floor(Math.random()*6));const t=Ql(e-2),n=new Array(e-2).fill(null).map((i,l)=>new Array(4).fill(t[l])).concat([[],[]]),r=new Se(n);for(let i=0;i<70;i++){const l=new Gr(r.tubes,r.tubes.map(_=>_.topAmount)).randomItem(),o=r.tubes.filter(_=>!_.full&&_.id!==l.id),u=zn(o),a=Math.min(l.singleColor?l.topAmount-1:l.topAmount,u.emptySpace),c=new Gr([1,2,3].splice(0,a),[1,3,9].splice(a)).randomItem(),h=l.levels.splice(-c);u.levels.push(...h)}let s=r.tubes.filter(i=>i.empty).length;for(let i=0;i<100&&s<2;i++){const l=r.tubes.filter(a=>!a.empty),o=zn(l),u=r.tubes.filter(a=>!a.full&&a.levels.length>o.levels.length);if(u.length>0){const a=zn(u),c=o.levels.splice(-1);a.levels.push(...c)}s=r.tubes.filter(a=>a.empty).length}return new Se(r.tubes)}const An=Al(Xs());var eo=J('<div><header class="svelte-1nmp6pz"><h1>Color Water Tubes</h1></header> <main class="svelte-1nmp6pz"><button class="big-btn svelte-1nmp6pz">New Game</button> <a class="big-btn svelte-1nmp6pz">Custom Level</a></main></div>');function to(e,t){Ye(t,!1);function n(){An.set(Xs()),Qs("/game")}Pl();var r=eo(),s=$(ae(r),2),i=ae(s);i.__click=n;var l=$(i,2);$e(o=>yr(l,"href",o),[()=>Ar("/edit")]),N(e,r),Ge()}fn(["click"]);var no=J('<div class="svelte-raay5y"><!></div>');function Ks(e,t){var n=no(),r=ae(n);Qn(r,()=>t.children??je),N(e,n)}var ro=J('<a class="button" role="button"><!></a>'),so=J("<button><!></button>");function ft(e,t){let n=st(t,"href",3,null),r=st(t,"disabled",3,!1),s=st(t,"spin",3,!1);var i=Tn(),l=ot(i);{var o=a=>{var c=ro(),h=ae(c);Qn(h,()=>t.children??je),$e(()=>yr(c,"href",n())),N(a,c)},u=a=>{var c=so();let h;c.__click=function(...v){var g;(g=t.onclick)==null||g.apply(this,v)};var _=ae(c);{var p=v=>{var g=Tn(),m=ot(g);Qn(m,()=>t.children??je),N(v,g)};Lt(_,v=>{s()||v(p)})}$e(()=>{h=$t(c,1,"button",null,h,{spinning:s()}),c.disabled=r()}),N(a,c)};Lt(l,a=>{n()?a(o):a(u,!1)})}N(e,i)}fn(["click"]);var io=J("<div></div>"),lo=J('<div class="tube-slot"><div draggable="true"><div class="plug svelte-lrfuv2"></div> <!></div> <h4 class="svelte-lrfuv2"> </h4></div>');function oo(e,t){Ye(t,!0);let n=st(t,"selected",3,!1),r=st(t,"highlight",3,!1),s=z(!1),i;function l(w){console.debug(`[Tube] onMouseDown(${w})`),i=setTimeout(()=>{i=null},500)}function o(w,k){console.debug(`[Tube] onMouseUp(${k})`),i&&(clearTimeout(i),i=null,t.onclick({tubeId:t.tube.id,level:k}))}const u="game/tube",a=w=>{var k;console.debug("[Tube] dragStartHandler()"),i&&(clearTimeout(i),i=null),w.dataTransfer.setData(u,t.tube.id.toString()),(k=t.ondrag)==null||k.call(t,{tubeId:t.tube.id})},c=w=>{var C;P(s,!1);const k=+w.dataTransfer.getData(u),E=t.tube.id;(C=t.ondrop)==null||C.call(t,{sourceTubeId:k,targetTubeId:E}),w.preventDefault()},h=w=>{w.dataTransfer.types.includes(u)&&(w.preventDefault(),t.selectable&&P(s,!0))},_=w=>{w.dataTransfer.types.includes(u)&&w.preventDefault()},p=w=>{w.dataTransfer.types.includes(u)&&(P(s,!1),w.preventDefault())};var v=lo(),g=ae(v);let m;g.__mousedown=w=>l(w),g.__mouseup=w=>o(w,-1);var b=$(ae(g),2);Sn(b,16,()=>({length:4}),wr,(w,k,E)=>{const C=oe(()=>E<t.tube.levels.length?`--clr-wtr${t.tube.levels[E]}`:"--clr-none");var F=io();F.__mousedown=re=>l(re),F.__mouseup=re=>o(re,E);let Z;$e(()=>{$t(F,1,`waterblock ${E>=t.tube.levels.length?"empty":""}`,"svelte-lrfuv2"),Z=er(F,"",Z,{"background-color":`var(${d(C)??""})`})}),N(w,F)});var L=$(g,2),M=ae(L);$e(()=>{m=$t(g,1,"tube svelte-lrfuv2",null,m,{selected:n(),highlight:r(),dropping:d(s),unplugged:!t.tube.done}),yr(g,"data-selectable",t.selectable),mr(M,t.tube.name)}),Yt("dragstart",g,a),Yt("dragenter",g,h),Yt("dragover",g,_),Yt("dragleave",g,p),Yt("drop",g,c),N(e,v),Ge()}fn(["mousedown","mouseup"]);function uo(e){if(e.length<=6)return[e];const t=e.length<=14?2:3,n=Math.floor(e.length/t),r=[];for(let s=0,i=0;s<e.length;i++,s+=n){const l=i<e.length%t?1:0;r.push(e.slice(s,s+n+l)),s+=l}return r}var ao=J('<div class="tubes-row svelte-vef59e"></div>'),fo=J('<div class="tubes-container"></div>');function Js(e,t){Ye(t,!0);let n=st(t,"selectedId",3,null),r=st(t,"highlightId",3,null),s=oe(()=>uo(t.tubes));var i=fo();Sn(i,21,()=>d(s),wr,(l,o)=>{var u=ao();Sn(u,21,()=>d(o),a=>a.id,(a,c)=>{{let h=oe(()=>n()===d(c).id),_=oe(()=>r()===d(c).id);oo(a,{get tube(){return d(c)},get selected(){return d(h)},get selectable(){return t.enabled[d(c).id]},get highlight(){return d(_)},get onclick(){return t.onclick},get ondrag(){return t.ondrag},get ondrop(){return t.ondrop}})}}),N(l,u)}),N(e,i),Ge()}var co=J("<dialog open><h2> </h2></dialog>");function ho(e,t){let n=oe(()=>t.result?"win":"lose"),r=oe(()=>t.result?"You Win":"You Lose");var s=co(),i=ae(s),l=ae(i);$e(()=>{$t(s,1,`modal ${d(n)??""}`,"svelte-1mjwqcy"),mr(l,d(r))}),N(e,s)}var vo=J('<h2 class="focus-anchor svelte-nsw2x9"></h2>');function Zs(e){var t=vo();N(e,t)}function _o(e){return new Worker("/colortubes/assets/solve-worker-DmMwOTxD.js",{name:e==null?void 0:e.name})}var po=J("<!> <!> <!> <!>",1),go=J('<!> <!> <div class="cols-2 svelte-nzwu8m"><!></div> <!>',1);function mo(e,t){Ye(t,!0);const n=()=>js(An,"$currentGame",r),[r,s]=zs();let i=z(null),l=z(!1),o=z(ee(n())),u=z(null),a=[],c=z(ee([])),h=z(ee([])),_=z(null);_l(async()=>{console.log("initializing web worker"),P(i,new _o,!0),d(i).onmessage=function(y){y.data.result===ir.Won&&(P(h,y.data.actions,!0),console.debug(d(h))),P(l,!1)}});function p(){P(o,n(),!0),P(u,null),P(_,null),a=[],P(h,[],!0),M()}function v(){d(i).postMessage(d(o)),P(l,!0)}function g(y){return d(u)===y?!0:!(d(o).tubes[y].done||d(u)===null&&d(o).tubes[y].empty||d(u)!==null&&d(o).tubes[y].full)}function m(y){console.log(`clicked ${JSON.stringify(y)}`);const S=y.tubeId;g(S)&&(d(u)===null?b(S):d(u)===S?(console.debug(`deselecting tube ${d(u)}`),P(u,null)):(w(d(u),S),k(S),P(u,null),P(_,null)),M())}function b(y){P(u,y,!0),console.debug(`selecting tube ${d(u)}`)}function L(y){const{sourceTubeId:S,targetTubeId:O}=y;g(O)&&(d(u)===O?(console.debug(`deselecting tube ${d(u)}`),P(u,null)):(w(S,O),k(O),P(u,null)),M())}function M(){P(c,d(o).tubes.map(y=>g(y.id)),!0)}function w(y,S){try{const O=d(o).historyEntry({from:y,to:S});P(o,d(o).applyMove({from:y,to:S}),!0),console.info(`applied move ${JSON.stringify(O)}`),a=[...a,O]}catch(O){console.warn(O.message)}}function k(y){if(d(h).length>0){const S=d(h)[0];y===S.toIndex&&d(u)===S.fromIndex?P(h,d(h).slice(1),!0):P(h,[],!0)}}function E(){d(h).length>0&&(P(u,d(h)[0].fromIndex,!0),P(_,d(h)[0].toIndex,!0))}var C=go(),F=ot(C);Zs(F);var Z=$(F,2);Ks(Z,{children:(y,S)=>{var O=po(),Pe=ot(O);{let se=oe(()=>Ar("/"));ft(Pe,{get href(){return d(se)},children:(St,cn)=>{var Ht=at("Quit");N(St,Ht)},$$slots:{default:!0}})}var Tt=$(Pe,2);ft(Tt,{onclick:p,children:(se,St)=>{var cn=at("Restart");N(se,cn)},$$slots:{default:!0}});var we=$(Tt,2);{var De=se=>{ft(se,{onclick:v,get spin(){return d(l)},children:(St,cn)=>{var Ht=at("Solve");N(St,Ht)},$$slots:{default:!0}})};Lt(we,se=>{d(i)&&d(h).length==0&&se(De)})}var Xe=$(we,2);{var Ke=se=>{ft(se,{onclick:E,children:(St,cn)=>{var Ht=at("💡");N(St,Ht)},$$slots:{default:!0}})};Lt(Xe,se=>{d(h).length>0&&se(Ke)})}N(y,O)}});var re=$(Z,2),Ne=ae(re);Js(Ne,{get tubes(){return d(o).tubes},get selectedId(){return d(u)},get highlightId(){return d(_)},get enabled(){return d(c)},onclick:m,ondrag:y=>b(y.tubeId),ondrop:L});var ve=$(re,2);{var x=y=>{{let S=oe(()=>d(o).status==ir.Won);ho(y,{get result(){return d(S)}})}};Lt(ve,y=>{d(o).ended&&y(x)})}N(e,C),Ge(),s()}var bo=J("<button> </button>"),wo=J('<div class="palette svelte-181phd1"><!> <button aria-label="No Color"></button></div>');function yo(e,t){Ye(t,!0);let n=st(t,"counts",19,()=>({}));const r=Array(Vs).fill(null).map((c,h)=>h+1);let s=z(null);function i(c){P(s,c,!0),t.onColorPick(c)}var l=wo(),o=ae(l);Sn(o,17,()=>r,wr,(c,h)=>{var _=bo();_.__click=()=>i(d(h));let p,v;var g=ae(_);$e(()=>{p=$t(_,1,"cell svelte-181phd1",null,p,{curr:d(h)===d(s),extra:n()[d(h)]>4}),v=er(_,"",v,{"--color":`var(--clr-wtr${(d(h)>=0?d(h):"-none")??""})`}),mr(g,n()[d(h)]||"")}),N(c,_)});var u=$(o,2);u.__click=()=>i(null);let a;er(u,"",{},{"--color":"var(--clr-wtr-none)"}),$e(()=>a=$t(u,1,"cell empty svelte-181phd1",null,a,{curr:d(s)===null})),N(e,l),Ge()}fn(["click"]);var Eo=J("<!> <!> <!>",1),To=J('<!> <!> <div><label for="num_tubes">Num. Tubes</label> <input type="number" name="num_tubes" min="5" max="20" class="svelte-uv9vkz"/></div> <!> <!>',1);function So(e,t){Ye(t,!0);const n=()=>js(An,"$currentGame",r),[r,s]=zs();let i=z(ee(p(n()))),l=z(ee([])),o=null,u=oe(()=>M(d(i).tubes)),a=oe(()=>w(d(u)));function c(x,y=0){return Array(x).fill(null).map((S,O)=>new nt(y+O,[0,0,0,0]))}function h(x){const S=+x.target.value;if(S<d(i).tubes.length&&P(i,new Se(d(i).tubes.slice(0,S)),!0),S>d(i).tubes.length){const O=S-d(i).tubes.length;P(i,new Se([...d(i).tubes,...c(O,d(i).tubes.length)]),!0)}P(l,d(i).tubes.map(O=>!0),!0)}function _(){P(i,new Se(c(d(i).tubes.length)),!0)}function p(x){const y=x.tubes.map((S,O)=>new nt(S.id,m(S.levels)));return new Se(y)}function v(x){return x.map(y=>{const S=y.levels.indexOf(0);return S>=0?new nt(y.id,y.levels.slice(0,S)):y})}function g(x){console.debug(`picked color ${x}`),o=x}function m(x){return x.length<4?x.concat(new Array(4-x.length).fill(0)):x}function b(x,y){console.debug(`apply color ${o} to tube ${x} level ${y}`);const S=d(i).tubes[x],O=m([...S.levels]);O[y]=o||0;const Pe=[...d(i).tubes];Pe[x]=new nt(S.id,O),P(i,new Se(Pe),!0)}function L(x){b(x.tubeId,x.level)}function M(x){const y={};for(const S of x)for(const O of S.levels)O&&(y[O]=++y[O]||1);return y}function w(x){const y=new Set(Object.values(x));return y.size===1&&y.has(4)}function k(){if(d(a)){const x=new Se(v(d(i).tubes));An.set(x),Qs("/game")}}var E=To(),C=ot(E);Zs(C);var F=$(C,2);Ks(F,{children:(x,y)=>{var S=Eo(),O=ot(S);ft(O,{onclick:_,children:(we,De)=>{var Xe=at("Reset");N(we,Xe)},$$slots:{default:!0}});var Pe=$(O,2);{let we=oe(()=>Ar("/"));ft(Pe,{get href(){return d(we)},children:(De,Xe)=>{var Ke=at("Discard");N(De,Ke)},$$slots:{default:!0}})}var Tt=$(Pe,2);{let we=oe(()=>!d(a));ft(Tt,{onclick:k,get disabled(){return d(we)},children:(De,Xe)=>{var Ke=at("Play");N(De,Ke)},$$slots:{default:!0}})}N(x,S)}});var Z=$(F,2),re=$(ae(Z),2);re.__change=h;var Ne=$(Z,2);yo(Ne,{onColorPick:g,get counts(){return d(u)}});var ve=$(Ne,2);Js(ve,{get tubes(){return d(i).tubes},get enabled(){return d(l)},onclick:L}),$e(()=>Sl(re,d(i).tubes.length)),N(e,E),Ge(),s()}fn(["change"]);const{p:Ar,navigate:Qs}=ql({"/":to,"/game":mo,"/edit":So});function ko(e){Vl(e,{base:"#"})}hl(ko,{target:document.getElementById("app")});
